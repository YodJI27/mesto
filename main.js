(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o,i){var c=this,a=e.item,u=e.handleCardClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=a.name,this._link=a.link,this._idUser=a.owner._id,this._idCards=a._id,this._likeCards=a.likes.length,this._likes=a.likes,this._template=n,this._handleCardClick=u,this._deleteCardsPopup=r,this._apiCards=i,this._apiUser=o.getInfo().then((function(e){c.checkForId(e._id),c._myLikes(e._id)})),this._editName=document.querySelector(".profile__author").textContent}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._template).content.querySelector(".cards__item").cloneNode(!0)}},{key:"checkForId",value:function(e){this._idUser!==e&&this._buttonDelete.classList.add("cards__delete_inactive")}},{key:"_likeCount",value:function(e){e.length?this._cardsLike.textContent=e.length:this._cardsLike.textContent=""}},{key:"_myLikes",value:function(e){var t=this;this._likes.some((function(n){e===n._id&&t._likeButton.classList.add("cards__like_active")}))}},{key:"_clickLike",value:function(e){var t=this;e.target.classList.contains("cards__like_active")?this._apiCards.deleteLikes(this._idCards).then((function(n){e.target.classList.remove("cards__like_active"),t._likeCount(n.likes)})):this._apiCards.putLikes(this._idCards).then((function(n){e.target.classList.add("cards__like_active"),t._likeCount(n.likes)}))}},{key:"_deleteCards",value:function(){this._element.remove(),this._element=null}},{key:"_deleteCardsFunction",value:function(){var e=this;document.querySelector(".popup__delete_button").addEventListener("click",(function(){e._deleteCards(),e._apiCards.deleteCards(e._idCards),e._deleteCardsPopup.close()}))}},{key:"_setEventListener",value:function(){var e=this;this._element.querySelector(".cards__like").addEventListener("click",(function(t){e._clickLike(t)})),this._element.querySelector(".cards__delete").addEventListener("click",(function(){e._deleteCardsPopup.open(),e._deleteCardsFunction()})),this._cardValue.addEventListener("click",(function(){e._handleCardClick()}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardValue=this._element.querySelector(".cards__image"),this._buttonDelete=this._element.querySelector(".cards__delete"),this._cardsLike=this._element.querySelector(".cards__like_count"),this._likeButton=this._element.querySelector(".cards__like"),this._setEventListener(),this._element.querySelector(".cards__text").textContent=this._name,this._cardValue.src=this._link,this._cardValue.alt=this._name,this._cardsLike.textContent=this._likeCards,this._myLikes(),this._element}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=document.querySelector(t),this._inputList=Array.from(this._form.querySelectorAll(n.popupText)),this._popupButton=this._form.querySelector(n.popupButton),this._popupTextNameError=n.popupTextNameError,this._popupButonActive=n.popupButonActive}var t,r;return t=e,(r=[{key:"_showInputError",value:function(e,t){var n=this._form.querySelector("#".concat(e.id,"-error"));e.classList.add(this._popupTextNameError),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._popupTextNameError),t.textContent=""}},{key:"removeError",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasNotValidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(e){this._hasNotValidInput(e)?this.buttonActive():this.buttonFalse()}},{key:"buttonActive",value:function(){this._popupButton.classList.add(this._popupButonActive),this._popupButton.setAttribute("disabled",!0)}},{key:"buttonFalse",value:function(){this._popupButton.classList.remove(this._popupButonActive),this._popupButton.removeAttribute("disabled")}},{key:"_setEventListener",value:function(){var e=this,t=this._inputList;t.forEach((function(n){n.addEventListener("input",(function(){e._isValid(n),e._toggleButtonState(t)}))})),this._toggleButtonState(t)}},{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){e.preventDefault()})),this.buttonFalse(),this._setEventListener()}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&(console.log("123"),this.close())}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__close").addEventListener("click",(function(){e.close}))}}])&&o(t.prototype,n),e}();function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(o){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,e))._handleFormSubmit=t,n._form=n._popup.querySelector(".popup__container"),n._formInputs=n._popup.querySelectorAll(".popup__text"),n.setEventListeners(),n}return t=c,(n=[{key:"_getInputValues",value:function(){var e=this;return this._case={},this._formInputs.forEach((function(t){e._case[t.name]=t.value})),this._case}},{key:"close",value:function(){this._form.reset(),u(p(c.prototype),"close",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("submit",(function(){e._handleFormSubmit(e._getInputValues()),e.close()})),u(p(c.prototype),"setEventListeners",this).call(this)}}])&&a(t.prototype,n),c}(i);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function c(e,t){var n,r,o=t.textImage,a=t.photoImage;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=i.call(this,e))._textImage=o,r._photoImage=a,m((n=v(r),b(c.prototype)),"setEventListeners",n).call(n),r}return t=c,(n=[{key:"open",value:function(e,t){this._photoImage.src=t,this._photoImage.alt=e,this._textImage.textContent=e,m(b(c.prototype),"open",this).call(this)}}])&&d(t.prototype,n),c}(i);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderElements",value:function(){var e=this;this._items.reverse().forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&g(t.prototype,n),e}();function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameSelector=document.querySelector(n),this._jobSelector=document.querySelector(r),this._avatarSelector=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameSelector.textContent,job:this._jobSelector.textContent}}},{key:"setUserInfo",value:function(e,t){this._nameSelector.textContent=e,this._jobSelector.textContent=t,this._avatarSelector.alt=e}}])&&E(t.prototype,n),e}();function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"getInfo",value:function(){return fetch(this._url,{method:"GET",headers:this._headers}).then(this._checkError)}},{key:"addCardsInServer",value:function(){return fetch(this._url,{method:"GET",headers:this._headers}).then(this._checkError)}},{key:"getAddCards",value:function(e,t){return fetch(this._url,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._checkError)}},{key:"getEditInfo",value:function(e,t){return fetch(this._url,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkError)}},{key:"deleteCards",value:function(e){return fetch("".concat(this._url,"/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkError)}},{key:"editAvatar",value:function(e){return fetch("".concat(this._url,"/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkError)}},{key:"putLikes",value:function(e){return fetch("".concat(this._url,"/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._checkError)}},{key:"deleteLikes",value:function(e){return fetch("".concat(this._url,"/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkError)}},{key:"_checkError",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}}])&&L(t.prototype,n),e}(),q={formSelector:".popup__container",formSelectorCards:".popup__container_cards_item",formSelectorAvatar:".popup__container_edit_avatar",popupText:".popup__text",popupButton:".popup__button",popupTextNameError:"popup__text_name_error",popupButonActive:"popup__button_active_not"},I=document.querySelector(".popup"),j=document.querySelector(".delete__cards"),O=document.querySelector(".profile__edit_open_popup"),x=document.querySelector(".profile__add"),P=document.querySelector(".popup__text_name_input"),T=document.querySelector(".popup__text_job_input"),A=(document.querySelector(".profile__author"),document.querySelector(".profile__description"),document.querySelector(".popup__container"),document.querySelector(".photo")),B=document.querySelector(".photo__image"),R=document.querySelector(".photo__text"),V=document.querySelector(".popup_cards"),N=(document.querySelector(".popup__text_name_cards"),document.querySelector(".popup__text_job_cards"),document.querySelector(".popup__button_save_form")),D=document.querySelector(".popup__button_form_save"),F=(document.getElementById("name-input-error"),document.getElementById("job-input-error"),document.getElementById("input-name-error"),document.getElementById("url-input-error"),document.querySelector(".cards")),U=(document.querySelector(".cards__like_count"),document.querySelector(".popup__avatar")),J=document.querySelector(".profile__avatar"),z=document.querySelector(".popup__button_avatar_form"),G=document.querySelector(".profile__image"),H=new w({url:"https://mesto.nomoreparties.co/v1/cohort-17/users/me",headers:{Authorization:"ef54f240-380e-482d-82be-6a3e691e6be6","content-type":"application/json"}}),M=new w({url:"https://mesto.nomoreparties.co/v1/cohort-17/cards",headers:{Authorization:"ef54f240-380e-482d-82be-6a3e691e6be6","content-type":"application/json"}}),K=new C({nameSelector:".profile__author",jobSelector:".profile__description",avatarSelector:".profile__image"}),Q=new _(".popup",(function(){K.setUserInfo(P.value,T.value),W(!1,D,"Cохранение..."),H.getEditInfo(P.value,T.value).finally((function(e){return W(!1,D,"Сохранить")})),Q.close()})),W=function(e,t,n){t.textContent=n};H.getInfo().then((function(e){G.src=e.avatar,K.setUserInfo(e.name,e.about)})).catch((function(e){console.log(e)}));var X=new i(".delete__cards");I.addEventListener("click",(function(e){(e.target.classList.contains("popup")||e.target.classList.contains("popup__close"))&&(te.removeError(),Q.close())})),j.addEventListener("click",(function(e){(e.target.classList.contains("delete__cards")||e.target.classList.contains("popup__delete_close_button"))&&X.close()})),U.addEventListener("click",(function(e){(e.target.classList.contains("popup__avatar")||e.target.classList.contains("popup__close_avatar"))&&Z.close()})),V.addEventListener("click",(function(e){(e.target.classList.contains("popup_cards")||e.target.classList.contains("popup__close_cards_item"))&&(ne.removeError(),$.close())})),A.addEventListener("click",(function(e){(e.target.classList.contains("photo")||e.target.classList.contains("photo__close"))&&ee.close()}));var Y=function(e){return new t({item:e,handleCardClick:function(){ee.open(e.name,e.link)}},"#cards__template",X,H,M)},Z=new _(".popup__avatar",(function(e){W(!0,z,"Сохранение..."),H.editAvatar(e.link).then((function(e){G.src=e.avatar})).catch((function(e){console.log(e)})).finally((function(e){return W(!1,z,"Сохранить")}))})),$=new _("#cards__popup",(function(e){W(!0,N,"Создание..."),M.getAddCards(e.name,e.link).then((function(e){var t=Y(e).generateCard();F.prepend(t)})).catch((function(e){console.log(e)})).finally((function(e){return W(!1,N,"Cоздать")}))}));M.addCardsInServer().then((function(e){var t=new S({items:e,renderer:function(e){var n=Y(e);n.checkForId;var r=n.generateCard();t.addItem(r)}},".cards");t.renderElements(e)}));var ee=new k(".photo",{textImage:R,photoImage:B});x.addEventListener("click",(function(){ne.buttonActive(),$.open()})),O.addEventListener("click",(function(){P.value=K.getUserInfo().name,T.value=K.getUserInfo().job,Q.open(),te.buttonFalse()})),J.addEventListener("click",(function(){Z.open()}));var te=new r(q.formSelector,q);te.enableValidation();var ne=new r(q.formSelectorCards,q);ne.enableValidation(),new r(q.formSelectorAvatar,q).enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwibmFtZXMiOlsiQ2FyZCIsInRlbXBsYXRlIiwiZGVsZXRlQ2FyZHMiLCJhcGlVc2VyIiwiYXBpQ2FyZHMiLCJpdGVtIiwiaGFuZGxlQ2FyZENsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9pZFVzZXIiLCJvd25lciIsIl9pZCIsIl9pZENhcmRzIiwiX2xpa2VDYXJkcyIsImxpa2VzIiwibGVuZ3RoIiwiX2xpa2VzIiwiX3RlbXBsYXRlIiwiX2hhbmRsZUNhcmRDbGljayIsIl9kZWxldGVDYXJkc1BvcHVwIiwiX2FwaUNhcmRzIiwiX2FwaVVzZXIiLCJnZXRJbmZvIiwidGhlbiIsImRhdGEiLCJjaGVja0ZvcklkIiwiX215TGlrZXMiLCJfZWRpdE5hbWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJpZCIsIl9idXR0b25EZWxldGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJfY2FyZHNMaWtlIiwic29tZSIsIl9saWtlQnV0dG9uIiwiZXZ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJkZWxldGVMaWtlcyIsInJlcyIsInJlbW92ZSIsIl9saWtlQ291bnQiLCJwdXRMaWtlcyIsIl9lbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9kZWxldGVDYXJkcyIsImNsb3NlIiwiX2NsaWNrTGlrZSIsIm9wZW4iLCJfZGVsZXRlQ2FyZHNGdW5jdGlvbiIsIl9jYXJkVmFsdWUiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lciIsInNyYyIsImFsdCIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtU2VsZWN0b3IiLCJhbGxDbGFzc2VzIiwiX2Zvcm0iLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInBvcHVwVGV4dCIsIl9wb3B1cEJ1dHRvbiIsInBvcHVwQnV0dG9uIiwiX3BvcHVwVGV4dE5hbWVFcnJvciIsInBvcHVwVGV4dE5hbWVFcnJvciIsIl9wb3B1cEJ1dG9uQWN0aXZlIiwicG9wdXBCdXRvbkFjdGl2ZSIsImVsZW1lbnQiLCJtZXNzYWdlRXJyb3IiLCJlcnJvckVsZW1lbnQiLCJpbnB1dCIsImZvckVhY2giLCJfaGlkZUlucHV0RXJyb3IiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJpbnB1dEVsZW1lbnQiLCJfaGFzTm90VmFsaWRJbnB1dCIsImJ1dHRvbkFjdGl2ZSIsImJ1dHRvbkZhbHNlIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiX2lzVmFsaWQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwiY29uc29sZSIsImxvZyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybUlucHV0cyIsInNldEV2ZW50TGlzdGVuZXJzIiwiX2Nhc2UiLCJ2YWx1ZSIsInJlc2V0IiwiX2dldElucHV0VmFsdWVzIiwiUG9wdXBXaXRoSW1hZ2UiLCJ0ZXh0SW1hZ2UiLCJwaG90b0ltYWdlIiwiX3RleHRJbWFnZSIsIl9waG90b0ltYWdlIiwiaW1hZ2VOYW1lIiwiaW1hZ2VTcmMiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJldmVyc2UiLCJwcmVwZW5kIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVTZWxlY3RvciIsIl9qb2JTZWxlY3RvciIsIl9hdmF0YXJTZWxlY3RvciIsImpvYiIsIkFwaSIsIl91cmwiLCJ1cmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsIl9jaGVja0Vycm9yIiwibmFtZXMiLCJsaW5rcyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJhdmF0YXIiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiYWxsQ2xhc2VzQ2FzZSIsImZvcm1TZWxlY3RvckNhcmRzIiwiZm9ybVNlbGVjdG9yQXZhdGFyIiwicG9wdXBFZGl0IiwiZGVsZXRlUG9wdXAiLCJvcGVuQnV0dG9uUG9wdXAiLCJvcGVuQnV0dG9uUG9wdXBBZGQiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsInBob3RvQ2FyZHMiLCJwb3B1cENhcmRzIiwicG9wdXBCdXR0b25TYXZlIiwicG9wdXBCdXR0b25TYXZlQnV0dG9uIiwiY2FyZHNUZW1wbGF0ZSIsImdldEVsZW1lbnRCeUlkIiwiZWRpdEF2YXRhclNlbGVjdG9yIiwicHJvZmlsZUF2YXRhckJ1dHRvbiIsInBvcHVwRWRpdEF2YXRhckJ1dHRvbiIsInByb2ZpbGVJbWFnZSIsImVkaXRJbmZvVXNlciIsImVkaXRQb3B1cENsYXNzIiwic2V0VXNlckluZm8iLCJyZW5kZXJMb2FkaW5nIiwiZ2V0RWRpdEluZm8iLCJfIiwibG9hZGluZyIsImJ1dHRvbiIsIm1lc3NhZ2UiLCJlcnIiLCJjbG9zZURlbGV0ZUNhcmRzUG9wdXAiLCJ2YWxpZGF0ZUVkaXQiLCJyZW1vdmVFcnJvciIsImVkaXRBdmF0YXIiLCJ2YWxpZGF0ZUNhcmQiLCJmb3JtUG9wdXAiLCJjYXJkc0ltYWdlIiwicmVuZGVyZXJDYXJkcyIsImdldEFkZENhcmRzIiwiY2FyZHNFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwiYWRkQ2FyZHNJblNlcnZlciIsImNhcmRzU2VjdGlvbiIsImNhcmQiLCJhZGRJdGVtIiwicmVuZGVyRWxlbWVudHMiLCJnZXRVc2VySW5mbyIsImVuYWJsZVZhbGlkYXRpb24iXSwibWFwcGluZ3MiOiJ5TEFBTyxJQUFNQSxFQUFiLFdBQ0ksYUFBcUNDLEVBQVVDLEVBQWFDLEVBQVNDLEdBQVMsV0FBakVDLEVBQWlFLEVBQWpFQSxLQUFNQyxFQUEyRCxFQUEzREEsaUIsNEZBQTJELFNBQzFFQyxLQUFLQyxNQUFRSCxFQUFLSSxLQUNsQkYsS0FBS0csTUFBUUwsRUFBS00sS0FDbEJKLEtBQUtLLFFBQVVQLEVBQUtRLE1BQU1DLElBQzFCUCxLQUFLUSxTQUFXVixFQUFLUyxJQUNyQlAsS0FBS1MsV0FBYVgsRUFBS1ksTUFBTUMsT0FDN0JYLEtBQUtZLE9BQVNkLEVBQUtZLE1BQ25CVixLQUFLYSxVQUFZbkIsRUFDakJNLEtBQUtjLGlCQUFtQmYsRUFDeEJDLEtBQUtlLGtCQUFvQnBCLEVBQ3pCSyxLQUFLZ0IsVUFBWW5CLEVBQ2pCRyxLQUFLaUIsU0FBV3JCLEVBQVFzQixVQUFVQyxNQUFLLFNBQUNDLEdBQ3BDLEVBQUtDLFdBQVdELEVBQUtiLEtBQ3JCLEVBQUtlLFNBQVNGLEVBQUtiLFFBRXZCUCxLQUFLdUIsVUFBWUMs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R0FBYWEsbUJBRVUsSUFBSS9JLEVBQWNpRyxFQUFjRSxtQkFBb0JGLEdBQzVEOEMsb0IiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgICBjb25zdHJ1Y3Rvcih7aXRlbSwgaGFuZGxlQ2FyZENsaWNrfSwgdGVtcGxhdGUsIGRlbGV0ZUNhcmRzLCBhcGlVc2VyLCBhcGlDYXJkcyl7XG4gICAgICAgIHRoaXMuX25hbWUgPSBpdGVtLm5hbWU7XG4gICAgICAgIHRoaXMuX2xpbmsgPSBpdGVtLmxpbms7XG4gICAgICAgIHRoaXMuX2lkVXNlciA9IGl0ZW0ub3duZXIuX2lkO1xuICAgICAgICB0aGlzLl9pZENhcmRzID0gaXRlbS5faWQ7XG4gICAgICAgIHRoaXMuX2xpa2VDYXJkcyA9IGl0ZW0ubGlrZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLl9saWtlcyA9IGl0ZW0ubGlrZXM7XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICAgICAgdGhpcy5fZGVsZXRlQ2FyZHNQb3B1cCA9IGRlbGV0ZUNhcmRzO1xuICAgICAgICB0aGlzLl9hcGlDYXJkcyA9IGFwaUNhcmRzO1xuICAgICAgICB0aGlzLl9hcGlVc2VyID0gYXBpVXNlci5nZXRJbmZvKCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jaGVja0ZvcklkKGRhdGEuX2lkKTtcbiAgICAgICAgICAgIHRoaXMuX215TGlrZXMoZGF0YS5faWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZWRpdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXV0aG9yJykudGV4dENvbnRlbnQ7XG4gICAgfVxuXG4gICAgX2dldFRlbXBsYXRlKCl7XG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZSlcbiAgICAgICAgLmNvbnRlbnRcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19faXRlbScpXG4gICAgICAgIC5jbG9uZU5vZGUodHJ1ZSlcbiAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICAgIH1cbiAgICBjaGVja0ZvcklkKGlkKXtcbiAgICAgICAgaWYodGhpcy5faWRVc2VyICE9PSBpZCl7XG4gICAgICAgICAgICB0aGlzLl9idXR0b25EZWxldGUuY2xhc3NMaXN0LmFkZCgnY2FyZHNfX2RlbGV0ZV9pbmFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vINCY0LfQvNC10L3QtdC90LjQtSDQt9C90LDRh9C10L3QuNGPINC70LDQudC60L7QslxuICAgIF9saWtlQ291bnQobGlrZXMpe1xuICAgICAgICBpZighbGlrZXMubGVuZ3RoKXtcbiAgICAgICAgICAgIHRoaXMuX2NhcmRzTGlrZS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jYXJkc0xpa2UudGV4dENvbnRlbnQgPSBsaWtlcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX215TGlrZXMoaWQpe1xuICAgICAgICB0aGlzLl9saWtlcy5zb21lKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYoaWQgPT09IGl0ZW0uX2lkKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2NhcmRzX19saWtlX2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICAvLyDQm9Cw0LnQulxuICAgIF9jbGlja0xpa2UgKGV2dCl7XG4gICAgICAgIGlmKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkc19fbGlrZV9hY3RpdmUnKSl7XG4gICAgICAgICAgICB0aGlzLl9hcGlDYXJkcy5kZWxldGVMaWtlcyh0aGlzLl9pZENhcmRzKVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnY2FyZHNfX2xpa2VfYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGlrZUNvdW50KHJlcy5saWtlcyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYXBpQ2FyZHMucHV0TGlrZXModGhpcy5faWRDYXJkcylcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2NhcmRzX19saWtlX2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpa2VDb3VudChyZXMubGlrZXMpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0gICBcbiAgICAvLyDQo9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60LhcbiAgICBfZGVsZXRlQ2FyZHMoKXtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgfVxuICAgIF9kZWxldGVDYXJkc0Z1bmN0aW9uKCl7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZGVsZXRlX2J1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZGVsZXRlQ2FyZHMoKTtcbiAgICAgICAgICAgIHRoaXMuX2FwaUNhcmRzLmRlbGV0ZUNhcmRzKHRoaXMuX2lkQ2FyZHMpO1xuICAgICAgICAgICAgdGhpcy5fZGVsZXRlQ2FyZHNQb3B1cC5jbG9zZSgpO1xuICAgICAgICB9KVxuICAgIH1cbiAgICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQstGB0LXRhSDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LIg0LrQsNGA0YLQvtGH0LrQuFxuICAgIF9zZXRFdmVudExpc3RlbmVyKCl7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19saWtlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PntcbiAgICAgICAgICAgIHRoaXMuX2NsaWNrTGlrZShldnQpO1xuICAgICAgICB9KVxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fZGVsZXRlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PntcbiAgICAgICAgICAgIHRoaXMuX2RlbGV0ZUNhcmRzUG9wdXAub3BlbigpO1xuICAgICAgICAgICAgdGhpcy5fZGVsZXRlQ2FyZHNGdW5jdGlvbigpO1xuICAgICAgICB9KVxuICAgICAgICB0aGlzLl9jYXJkVmFsdWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PntcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljaygpO1xuICAgICAgICB9KVxuICAgIH1cbiAgICAgICAgLy8gQ9C+0LfQtNCw0L3QuNC1INC4INC30LDQv9C+0LvQvdC10L3QuNC1INC60LDRgNGC0L7Rh9C60LhcbiAgICAgICAgZ2VuZXJhdGVDYXJkKCl7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2NhcmRWYWx1ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19pbWFnZScpO1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRGVsZXRlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2RlbGV0ZScpO1xuICAgICAgICAgICAgdGhpcy5fY2FyZHNMaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2xpa2VfY291bnQnKTtcbiAgICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fbGlrZScpO1xuICAgICAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcigpO1xuICAgIFxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX3RleHQnKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgICAgICAgICB0aGlzLl9jYXJkVmFsdWUuc3JjID0gdGhpcy5fbGluaztcbiAgICAgICAgICAgIHRoaXMuX2NhcmRWYWx1ZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgICAgICAgICAgdGhpcy5fY2FyZHNMaWtlLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZUNhcmRzO1xuXG4gICAgICAgICAgICB0aGlzLl9teUxpa2VzKCk7XG4gICAgXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgICAgICAgfVxufVxuIiwiXG5leHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gICAgY29uc3RydWN0b3IoZm9ybVNlbGVjdG9yLCBhbGxDbGFzc2VzKXtcbiAgICAgICAgdGhpcy5fZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybVNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoYWxsQ2xhc3Nlcy5wb3B1cFRleHQpKTtcbiAgICAgICAgdGhpcy5fcG9wdXBCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYWxsQ2xhc3Nlcy5wb3B1cEJ1dHRvbik7XG4gICAgICAgIHRoaXMuX3BvcHVwVGV4dE5hbWVFcnJvciA9IGFsbENsYXNzZXMucG9wdXBUZXh0TmFtZUVycm9yO1xuICAgICAgICB0aGlzLl9wb3B1cEJ1dG9uQWN0aXZlID0gYWxsQ2xhc3Nlcy5wb3B1cEJ1dG9uQWN0aXZlO1xuICAgIH1cbiAgICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDRjdC70LXQvNC10L3RgtCwINC+0YjQuNCx0LrQuFxuICAgIF9zaG93SW5wdXRFcnJvcihlbGVtZW50LCBtZXNzYWdlRXJyb3Ipe1xuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2VsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9wb3B1cFRleHROYW1lRXJyb3IpO1xuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBtZXNzYWdlRXJyb3I7XG4gICAgfVxuXG4gICAgLy8g0KHQutGA0YvRgtC40LUg0Y3Qu9C10LzQtdC90YLQsCDQvtGI0LjQsdC60LhcbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXQpe1xuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuICAgICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3BvcHVwVGV4dE5hbWVFcnJvcik7XG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgfVxuICAgIC8vINCj0LTQsNC70LXQvdC40LUg0YLQtdC60YHRgtCwINC+0YjQuNCx0LrQuCDQv9GA0Lgg0LfQsNC60YDRi9GC0LjQuCDQv9C+0L/QsNC/0L7QslxuICAgIC8vIHJlbW92ZUVycm9yKGVsZW1lbnQsIHRleHQpe1xuICAgIC8vICAgICB0ZXh0LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAvLyAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3BvcHVwVGV4dE5hbWVFcnJvcik7XG4gICAgLy8gfVxuICAgIHJlbW92ZUVycm9yKCl7XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaXRlbSk7XG4gICAgICAgIH0pXG4gICAgfVxuICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0LLQsNC70LjQtNC90L7RgdGC0Lgg0L/QvtC70Y8gXG4gICAgX2lzVmFsaWQoZWxlbWVudCl7XG4gICAgICAgIGlmKCFlbGVtZW50LnZhbGlkaXR5LnZhbGlkKXtcbiAgICAgICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGVsZW1lbnQsIGVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8g0J/RgNC+0LLQtdGA0LrQsCDQstCw0LvQuNC00L3QvtGB0YLQuFxuICAgIF9oYXNOb3RWYWxpZElucHV0KGlucHV0TGlzdCl7XG4gICAgICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcbiAgICB9XG5cbiAgICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQutC70LDRgdGB0LAg0LrQvdC+0L/QutC4ICgg0LDQutGC0LjQstC90LDRjyAvINC90LUg0LDQutGC0LjQstC90LDRjylcbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0KXtcbiAgICAgICAgaWYodGhpcy5faGFzTm90VmFsaWRJbnB1dChpbnB1dExpc3QpKXtcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uQWN0aXZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJ1dHRvbkZhbHNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBidXR0b25BY3RpdmUoKXtcbiAgICAgICAgdGhpcy5fcG9wdXBCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9wb3B1cEJ1dG9uQWN0aXZlKTtcbiAgICAgICAgdGhpcy5fcG9wdXBCdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgIH1cblxuICAgIGJ1dHRvbkZhbHNlKCl7XG4gICAgICAgIHRoaXMuX3BvcHVwQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fcG9wdXBCdXRvbkFjdGl2ZSk7XG4gICAgICAgIHRoaXMuX3BvcHVwQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICB9XG5cbiAgICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutCwINCy0YHQtdC8INC/0L7Qu9GP0Lwg0YTQvtGA0LzRi1xuICAgIF9zZXRFdmVudExpc3RlbmVyKCl7XG4gICAgICAgIGNvbnN0IGlucHV0TGlzdCA9IHRoaXMuX2lucHV0TGlzdDtcbiAgICAgICAgaW5wdXRMaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PntcbiAgICAgICAgICAgICAgICB0aGlzLl9pc1ZhbGlkKGl0ZW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCk7XG4gICAgfVxuXG4gICAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0L7QsdGA0LDQsdC+0YLRh9C40LrQsCDRhNC+0YDQvNCw0LxcbiAgICBlbmFibGVWYWxpZGF0aW9uKCl7XG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgdGhpcy5idXR0b25GYWxzZSgpO1xuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKCk7XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKXtcclxuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKXtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfVxyXG4gICAgY2xvc2UoKXtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpe1xyXG4gICAgICAgIGlmKGV2dC5rZXkgPT09ICdFc2NhcGUnKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCIxMjNcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7UG9wdXB9IGZyb20gJy4vUG9wdXAuanMnO1xyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpe1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbnRhaW5lcicpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm1JbnB1dHMgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX3RleHQnKTtcclxuICAgICAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKXtcclxuXHJcbiAgICAgICAgdGhpcy5fY2FzZSA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLl9mb3JtSW5wdXRzLmZvckVhY2goaXRlbSA9PntcclxuICAgICAgICAgICAgdGhpcy5fY2FzZVtpdGVtLm5hbWVdID0gaXRlbS52YWx1ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jYXNlO1xyXG4gICAgfVxyXG4gICAgY2xvc2UoKXtcclxuICAgICAgICB0aGlzLl9mb3JtLnJlc2V0KCkgO1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtQb3B1cH0gZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihmb3JtU2VsZWN0b3IsIHt0ZXh0SW1hZ2UsIHBob3RvSW1hZ2V9KXtcclxuICAgICAgICBzdXBlcihmb3JtU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3RleHRJbWFnZSA9IHRleHRJbWFnZTtcclxuICAgICAgICB0aGlzLl9waG90b0ltYWdlID0gcGhvdG9JbWFnZTtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oaW1hZ2VOYW1lLCBpbWFnZVNyYyl7XHJcbiAgICAgICAgdGhpcy5fcGhvdG9JbWFnZS5zcmMgPSBpbWFnZVNyYztcclxuICAgICAgICB0aGlzLl9waG90b0ltYWdlLmFsdCA9IGltYWdlTmFtZTtcclxuICAgICAgICB0aGlzLl90ZXh0SW1hZ2UudGV4dENvbnRlbnQgPSBpbWFnZU5hbWU7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgfVxyXG59ICIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHtpdGVtcywgcmVuZGVyZXJ9LCBjb250YWluZXJTZWxlY3Rvcil7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgfVxyXG4gICAgLy8g0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINC+0YLRgNC40YHQvtCy0LrRgyDQstGB0LXRhSDRjdC70LXQvNC10L3RgtC+0LIgXHJcbiAgICByZW5kZXJFbGVtZW50cygpe1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zLnJldmVyc2UoKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQv9GA0LjQvdC40LzQsNC10YIgRE9NLdGN0LvQtdC80LXQvdGCINC4INC00L7QsdCw0LLQu9GP0LXRgiDQtdCz0L4g0LIg0LrQvtC90YLQtdC50L3QtdGAXHJcbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxufSIsIlxyXG5leHBvcnQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3Ioe25hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yfSl7XHJcbiAgICAgICAgdGhpcy5fbmFtZVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2pvYlNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICAgIH1cclxuICAgIGdldFVzZXJJbmZvKCl7XHJcbiAgICAgICAgcmV0dXJuIHsgbmFtZTogdGhpcy5fbmFtZVNlbGVjdG9yLnRleHRDb250ZW50LCBqb2I6IHRoaXMuX2pvYlNlbGVjdG9yLnRleHRDb250ZW50fTtcclxuICAgIH1cclxuICAgIHNldFVzZXJJbmZvKG5hbWUsIGxpbmspe1xyXG4gICAgICAgIHRoaXMuX25hbWVTZWxlY3Rvci50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fam9iU2VsZWN0b3IudGV4dENvbnRlbnQgPSBsaW5rO1xyXG4gICAgICAgIHRoaXMuX2F2YXRhclNlbGVjdG9yLmFsdCA9IG5hbWU7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQXBpe1xyXG4gICAgY29uc3RydWN0b3IoZGF0YSl7XHJcbiAgICAgICAgdGhpcy5fdXJsID0gZGF0YS51cmw7XHJcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IGRhdGEuaGVhZGVycztcclxuICAgIH1cclxuXHJcbiAgICAvLyDQmNC90YTQvtGA0LzQsNGG0LjRjyDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcclxuICAgIGdldEluZm8oKXtcclxuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tFcnJvcik7XHJcbiAgICB9XHJcbiAgICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQtdC6INGBINGB0LXRgNCy0LXRgNCwXHJcbiAgICBhZGRDYXJkc0luU2VydmVyKCl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrRXJyb3IpO1xyXG4gICAgfVxyXG4gICAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LXQuiDQuNC3INC/0L7Qv9Cw0L9cclxuICAgIGdldEFkZENhcmRzKG5hbWVzLCBsaW5rcyl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lcyxcclxuICAgICAgICAgICAgICAgIGxpbms6IGxpbmtzXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSkudGhlbih0aGlzLl9jaGVja0Vycm9yKTtcclxuICAgIH1cclxuICAgIC8vINCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XHJcbiAgICBnZXRFZGl0SW5mbyhuYW1lcywgbGlua3Mpe1xyXG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsIFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lcyxcclxuICAgICAgICAgICAgICAgIGFib3V0OiBsaW5rc1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tFcnJvcik7XHJcbiAgICB9XHJcbiAgICAvLyDQo9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60LggXHJcbiAgICBkZWxldGVDYXJkcyhpZCl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vJHtpZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tFcnJvcik7XHJcbiAgICB9XHJcbiAgICAvLyDQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INCw0LLQsNGC0LDRgNCwXHJcbiAgICBlZGl0QXZhdGFyKGRhdGEpe1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2F2YXRhcmAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBhdmF0YXI6IGRhdGFcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrRXJyb3IpO1xyXG4gICAgfVxyXG4gICAgLy8g0J/QvtGB0YLQsNC90L7QstC60LAg0LvQsNC50LrQsFxyXG4gICAgcHV0TGlrZXMoaWQpe1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2xpa2VzLyR7aWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrRXJyb3IpO1xyXG4gICAgfVxyXG4gICAgLy8g0KPQtNCw0LvQtdC90LjQtSDQu9Cw0LnQutCwXHJcbiAgICBkZWxldGVMaWtlcyhpZCl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vbGlrZXMvJHtpZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tFcnJvcik7XHJcbiAgICB9XHJcbiAgICAvLyDQn9GA0L7QstC10YDQutCwINC90LAg0L7RiNC40LHQutC4XHJcbiAgICBfY2hlY2tFcnJvcihyZXMpe1xyXG4gICAgICAgIGlmKHJlcy5vayl7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfVxyXG59IiwiY29uc3QgYWxsQ2xhc2VzQ2FzZSA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fY29udGFpbmVyJyxcclxuICAgIGZvcm1TZWxlY3RvckNhcmRzOiAnLnBvcHVwX19jb250YWluZXJfY2FyZHNfaXRlbScsXHJcbiAgICBmb3JtU2VsZWN0b3JBdmF0YXI6ICcucG9wdXBfX2NvbnRhaW5lcl9lZGl0X2F2YXRhcicsXHJcbiAgICBwb3B1cFRleHQ6ICcucG9wdXBfX3RleHQnLFxyXG4gICAgcG9wdXBCdXR0b246ICcucG9wdXBfX2J1dHRvbicsXHJcbiAgICBwb3B1cFRleHROYW1lRXJyb3I6ICdwb3B1cF9fdGV4dF9uYW1lX2Vycm9yJyxcclxuICAgIHBvcHVwQnV0b25BY3RpdmU6ICdwb3B1cF9fYnV0dG9uX2FjdGl2ZV9ub3QnXHJcbn07XHJcblxyXG5jb25zdCBwb3B1cEVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKTtcclxuY29uc3QgZGVsZXRlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGVsZXRlX19jYXJkcycpO1xyXG5jb25zdCBvcGVuQnV0dG9uUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdF9vcGVuX3BvcHVwJyk7XHJcbmNvbnN0IG9wZW5CdXR0b25Qb3B1cEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQnKTtcclxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX190ZXh0X25hbWVfaW5wdXQnKTtcclxuY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3RleHRfam9iX2lucHV0Jyk7XHJcbmNvbnN0IG5hbWVBdXRob3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXV0aG9yJyk7XHJcbmNvbnN0IGpvYkF1dGhvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19kZXNjcmlwdGlvbicpO1xyXG5jb25zdCBmb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyJyk7XHJcbmNvbnN0IHBob3RvQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8nKTtcclxuY29uc3QgcGhvdG9JbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90b19faW1hZ2UnKTtcclxuY29uc3QgdGV4dEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBob3RvX190ZXh0Jyk7XHJcbmNvbnN0IHBvcHVwQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfY2FyZHMnKTtcclxuY29uc3QgcG9wdXBOYW1lQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3RleHRfbmFtZV9jYXJkcycpO1xyXG5jb25zdCBwb3B1cEpvYkNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX190ZXh0X2pvYl9jYXJkcycpXHJcbmNvbnN0IHBvcHVwQnV0dG9uU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uX3NhdmVfZm9ybScpO1xyXG5jb25zdCBwb3B1cEJ1dHRvblNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbl9mb3JtX3NhdmUnKTtcclxuY29uc3QgaW5wdXRFcnJvck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbmFtZS1pbnB1dC1lcnJvcmApO1xyXG5jb25zdCBpbnB1dEVycm9yRGF0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBqb2ItaW5wdXQtZXJyb3JgKTtcclxuY29uc3QgaW5wdXROYW1lRXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQtbmFtZS1lcnJvcicpO1xyXG5jb25zdCBpbnB1dEVycm9yVXJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VybC1pbnB1dC1lcnJvcicpO1xyXG5jb25zdCBjYXJkc1RlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzJyk7XHJcbmNvbnN0IGNhcmRzTGlrZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fbGlrZV9jb3VudCcpO1xyXG5jb25zdCBlZGl0QXZhdGFyU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2F2YXRhcicpO1xyXG5jb25zdCBwcm9maWxlQXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xyXG5jb25zdCBwb3B1cEVkaXRBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbl9hdmF0YXJfZm9ybScpO1xyXG5jb25zdCBwcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UnKTtcclxuXHJcbmV4cG9ydHtwaG90b0NhcmRzLCBwaG90b0ltYWdlLCB0ZXh0SW1hZ2UsIG5hbWVBdXRob3IsIGpvYkF1dGhvciwgaW5wdXRFcnJvclVybCwgaW5wdXROYW1lRXJyb3IsXHJcbiAgICBpbnB1dEVycm9yRGF0YSwgaW5wdXRFcnJvck5hbWUsIHBvcHVwQnV0dG9uU2F2ZUJ1dHRvbiwgcG9wdXBCdXR0b25TYXZlLCBwb3B1cEpvYkNhcmRzLCBwb3B1cE5hbWVDYXJkcywgXHJcbiAgICBwb3B1cENhcmRzLCBmb3JtRWxlbWVudCwgam9iSW5wdXQsIG5hbWVJbnB1dCwgIG9wZW5CdXR0b25Qb3B1cEFkZCwgb3BlbkJ1dHRvblBvcHVwLCBwb3B1cEVkaXQsIGFsbENsYXNlc0Nhc2UsIFxyXG4gICAgY2FyZHNUZW1wbGF0ZSxjYXJkc0xpa2UsZGVsZXRlUG9wdXAsIHByb2ZpbGVBdmF0YXJCdXR0b24sIGVkaXRBdmF0YXJTZWxlY3RvciwgXHJcbiAgICBwb3B1cEVkaXRBdmF0YXJCdXR0b24sIHByb2ZpbGVJbWFnZX07XHJcbiIsImltcG9ydCAnLi4vcGFnZXMvaW5kZXguY3NzJztcbmltcG9ydCB7IENhcmQgfSBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgeyBBcGkgfSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5pbXBvcnQge3Bob3RvQ2FyZHMsXG4gICAgICAgIHBvcHVwQ2FyZHMsIGpvYklucHV0LCBuYW1lSW5wdXQsXG4gICAgICAgIG9wZW5CdXR0b25Qb3B1cEFkZCwgb3BlbkJ1dHRvblBvcHVwLCBwb3B1cEVkaXQsIFxuICAgICAgICBhbGxDbGFzZXNDYXNlLCB0ZXh0SW1hZ2UsIHBob3RvSW1hZ2UsIGNhcmRzVGVtcGxhdGUsIFxuICAgICAgICBkZWxldGVQb3B1cCwgcG9wdXBCdXR0b25TYXZlLCBwcm9maWxlQXZhdGFyQnV0dG9uLFxuICAgICAgICBlZGl0QXZhdGFyU2VsZWN0b3IsIHBvcHVwRWRpdEF2YXRhckJ1dHRvbiwgcHJvZmlsZUltYWdlLCBwb3B1cEJ1dHRvblNhdmVCdXR0b259IGZyb20gJy4uL2NvbXBvbmVudHMvY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IFBvcHVwIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cCc7XG5cbi8vINCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XG5jb25zdCBhcGlVc2VyID0gbmV3IEFwaSh7XG4gICAgdXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0xNy91c2Vycy9tZScsIFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IFwiZWY1NGYyNDAtMzgwZS00ODJkLTgyYmUtNmEzZTY5MWU2YmU2XCIsXG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgfSAgICBcbn0pO1xuLy8g0JTQu9GPINC60LDRgNGC0L7Rh9C10LpcbmNvbnN0IGFwaUNhcmRzID0gbmV3IEFwaSh7XG4gICAgdXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0xNy9jYXJkcycsIFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IFwiZWY1NGYyNDAtMzgwZS00ODJkLTgyYmUtNmEzZTY5MWU2YmU2XCIsXG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgfVxufSk7XG5cbi8vINCh0L7Qt9C00LDQvdC40LUg0LrQu9Cw0YHRgdCwINC00LvRjyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdCBlZGl0SW5mb1VzZXIgPSBuZXcgVXNlckluZm8oe25hbWVTZWxlY3RvcjogJy5wcm9maWxlX19hdXRob3InLCBqb2JTZWxlY3RvcjogJy5wcm9maWxlX19kZXNjcmlwdGlvbicsIGF2YXRhclNlbGVjdG9yOiAnLnByb2ZpbGVfX2ltYWdlJ30pO1xuLy8g0KTQvtGA0LzQsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdCBlZGl0UG9wdXBDbGFzcyA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXAnLCAoKSA9PiB7XG4gICAgZWRpdEluZm9Vc2VyLnNldFVzZXJJbmZvKG5hbWVJbnB1dC52YWx1ZSwgam9iSW5wdXQudmFsdWUpO1xuICAgIHJlbmRlckxvYWRpbmcoZmFsc2UsIHBvcHVwQnV0dG9uU2F2ZUJ1dHRvbiwgXCJD0L7RhdGA0LDQvdC10L3QuNC1Li4uXCIpXG4gICAgYXBpVXNlclxuICAgIC5nZXRFZGl0SW5mbyhuYW1lSW5wdXQudmFsdWUsIGpvYklucHV0LnZhbHVlKVxuICAgIC5maW5hbGx5KF8gPT4gcmVuZGVyTG9hZGluZyhmYWxzZSwgcG9wdXBCdXR0b25TYXZlQnV0dG9uLCBcItCh0L7RhdGA0LDQvdC40YLRjFwiKSk7XG4gICAgZWRpdFBvcHVwQ2xhc3MuY2xvc2UoKTtcbn0pO1xuXG4vLyDQotC10LrRgdGCINC00LvRjyDQutC90L7Qv9C+0LpcbmNvbnN0IHJlbmRlckxvYWRpbmcgPSAobG9hZGluZywgYnV0dG9uLCBtZXNzYWdlKSA9PiB7XG4gICAgaWYobG9hZGluZykge1xuICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgfVxufVxuXG5hcGlVc2VyLmdldEluZm8oKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHByb2ZpbGVJbWFnZS5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgICAgICAgZWRpdEluZm9Vc2VyLnNldFVzZXJJbmZvKGRhdGEubmFtZSwgZGF0YS5hYm91dCk7XG59KVxuLmNhdGNoKChlcnIpID0+IHtjb25zb2xlLmxvZyhlcnIpfSk7XG5cbi8vINCa0LvQsNGB0YEg0LTQu9GPINC/0L7Qv9Cw0L8g0YPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XG5jb25zdCBjbG9zZURlbGV0ZUNhcmRzUG9wdXAgPSBuZXcgUG9wdXAoJy5kZWxldGVfX2NhcmRzJyk7XG5cbi8vINCe0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQvyDQtNC70Y8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LXQulxuY29uc3QgYWRkUG9wdXBDYXJkcyA9ICgpID0+IHtcbiAgICB2YWxpZGF0ZUNhcmQuYnV0dG9uQWN0aXZlKCk7XG4gICAgZm9ybVBvcHVwLm9wZW4oKTtcbn1cbi8vINCe0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQvyDQtNC70Y8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsCBcbmNvbnN0IGVkaXRBdmF0YXJGdW5jdGlvbiA9ICgpID0+IHtcbiAgICBlZGl0QXZhdGFyLm9wZW4oKTtcbn1cblxuLy8g0J7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC9INC00LvRjyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdCBhZGRQb3B1cCA9ICgpID0+IHtcbiAgICBuYW1lSW5wdXQudmFsdWUgPSBlZGl0SW5mb1VzZXIuZ2V0VXNlckluZm8oKS5uYW1lO1xuICAgIGpvYklucHV0LnZhbHVlID0gZWRpdEluZm9Vc2VyLmdldFVzZXJJbmZvKCkuam9iO1xuICAgIGVkaXRQb3B1cENsYXNzLm9wZW4oKTtcbiAgICB2YWxpZGF0ZUVkaXQuYnV0dG9uRmFsc2UoKTtcbn1cblxuLy8g0LfQsNC60YDRi9GC0LjQtSDQtNC70Y8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRj1xucG9wdXBFZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgIGlmKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UnKSl7ICAgIFxuICAgICAgICB2YWxpZGF0ZUVkaXQucmVtb3ZlRXJyb3IoKTtcbiAgICAgICAgZWRpdFBvcHVwQ2xhc3MuY2xvc2UoKTtcbiAgICB9XG59KTtcbi8vINC30LDQutGA0YvRgtC40LUg0LTQu9GPINC/0L7Qv9Cw0L8g0YPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XG5kZWxldGVQb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICBpZihldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZGVsZXRlX19jYXJkcycpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fZGVsZXRlX2Nsb3NlX2J1dHRvbicpKXtcbiAgICAgICAgY2xvc2VEZWxldGVDYXJkc1BvcHVwLmNsb3NlKCk7XG4gICAgfVxufSlcbi8vINC30LDQutGA0YvRgtC40LUg0L/QvtC/0LDQvyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwXG5lZGl0QXZhdGFyU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XG4gICAgaWYoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19hdmF0YXInKSB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlX2F2YXRhcicpKXtcbiAgICAgICAgZWRpdEF2YXRhci5jbG9zZSgpO1xuICAgIH1cbn0pXG5cblxuLy8g0LfQsNC60YDRi9GC0LjQtSDQtNC70Y8g0LrQsNGA0YLQvtGH0LXQulxucG9wdXBDYXJkcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICBpZihldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfY2FyZHMnKSB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlX2NhcmRzX2l0ZW0nKSl7XG4gICAgICAgIHZhbGlkYXRlQ2FyZC5yZW1vdmVFcnJvcigpO1xuICAgICAgICBmb3JtUG9wdXAuY2xvc2UoKTtcbiAgICB9XG59KTtcblxuLy8g0LfQsNC60YDRi9GC0LjQtSDQtNC70Y8g0YTQvtGC0L5cbnBob3RvQ2FyZHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XG4gICAgaWYoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Bob3RvJykgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Bob3RvX19jbG9zZScpKXtcbiAgICAgICAgY2FyZHNJbWFnZS5jbG9zZSgpO1xuICAgIH1cbn0pXG5cbi8vINGA0LXQvdC00LXRgCDQvtC00L3QvtC5INC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IHJlbmRlcmVyQ2FyZHMgPSAoaXRlbSkgPT4ge1xuICAgIHJldHVybiBuZXcgQ2FyZCh7aXRlbSwgXG4gICAgICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhcmRzSW1hZ2Uub3BlbihpdGVtLm5hbWUsIGl0ZW0ubGluayk7XG4gICAgICAgIH0gICBcbiAgICB9LCAnI2NhcmRzX190ZW1wbGF0ZScsIGNsb3NlRGVsZXRlQ2FyZHNQb3B1cCwgYXBpVXNlciwgYXBpQ2FyZHMpO1xufVxuXG4vLyDQodC80LXQvdCwINCw0LLQsNGC0LDRgNCwXG5jb25zdCBlZGl0QXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF9fYXZhdGFyJywgKGl0ZW0pID0+IHtcbiAgICByZW5kZXJMb2FkaW5nKHRydWUsIHBvcHVwRWRpdEF2YXRhckJ1dHRvbiwgJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJylcbiAgICBhcGlVc2VyXG4gICAgLmVkaXRBdmF0YXIoaXRlbS5saW5rKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHByb2ZpbGVJbWFnZS5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7Y29uc29sZS5sb2coZXJyKX0pXG4gICAgLmZpbmFsbHkoXyA9PiByZW5kZXJMb2FkaW5nKGZhbHNlLCBwb3B1cEVkaXRBdmF0YXJCdXR0b24sIFwi0KHQvtGF0YDQsNC90LjRgtGMXCIpKTtcbn0pO1xuXG5cbi8vINCU0L7QsdCw0LLQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C10Log0LjQtyDQv9C+0L/QsNC/XG5jb25zdCBmb3JtUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI2NhcmRzX19wb3B1cCcsIChpdGVtKSA9PiB7XG4gICAgcmVuZGVyTG9hZGluZyh0cnVlLCBwb3B1cEJ1dHRvblNhdmUsICfQodC+0LfQtNCw0L3QuNC1Li4uJyk7XG4gICAgYXBpQ2FyZHNcbiAgICAuZ2V0QWRkQ2FyZHMoaXRlbS5uYW1lLCBpdGVtLmxpbmspXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBjb25zdCBjYXJkICA9IHJlbmRlcmVyQ2FyZHMocmVzKTtcbiAgICAgICAgY29uc3QgY2FyZHNFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgICAgICAgY2FyZHNUZW1wbGF0ZS5wcmVwZW5kKGNhcmRzRWxlbWVudCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge2NvbnNvbGUubG9nKGVycil9KVxuICAgIC5maW5hbGx5KF8gPT4gcmVuZGVyTG9hZGluZyhmYWxzZSwgcG9wdXBCdXR0b25TYXZlLCAnQ9C+0LfQtNCw0YLRjCcpKTtcbn0pO1xuXG4vLyDQntGC0YDQuNGB0L7QstC60LAg0LLRgdC10YUg0LrQsNGA0YLQvtGH0LXQulxuYXBpQ2FyZHMuYWRkQ2FyZHNJblNlcnZlcigpLnRoZW4oKGRhdGEpID0+IHtcbiAgICBjb25zdCBjYXJkc1NlY3Rpb24gPSBuZXcgU2VjdGlvbih7aXRlbXM6IGRhdGEsIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgIGNvbnN0IGNhcmQgID0gcmVuZGVyZXJDYXJkcyhpdGVtKTtcbiAgICAgICBjYXJkLmNoZWNrRm9ySWQ7XG4gICAgICAgY29uc3QgY2FyZHNFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgICAgICBjYXJkc1NlY3Rpb24uYWRkSXRlbShjYXJkc0VsZW1lbnQpO1xuICAgIH1cbiAgICAgfSwgJy5jYXJkcycpO1xuICAgIGNhcmRzU2VjdGlvbi5yZW5kZXJFbGVtZW50cyhkYXRhKTtcbn0pXG5cbi8vINCf0YDQuNCx0LvQuNC20LXQvdC40LUg0LrQsNGA0YLQuNC90LrQuFxuY29uc3QgY2FyZHNJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBob3RvJywge3RleHRJbWFnZSwgcGhvdG9JbWFnZX0pO1xuXG5vcGVuQnV0dG9uUG9wdXBBZGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRQb3B1cENhcmRzKTtcbm9wZW5CdXR0b25Qb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZFBvcHVwKTtcbnByb2ZpbGVBdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlZGl0QXZhdGFyRnVuY3Rpb24pO1xuXG5jb25zdCB2YWxpZGF0ZUVkaXQgPSBuZXcgRm9ybVZhbGlkYXRvcihhbGxDbGFzZXNDYXNlLmZvcm1TZWxlY3RvciwgYWxsQ2xhc2VzQ2FzZSk7XG52YWxpZGF0ZUVkaXQuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCB2YWxpZGF0ZUNhcmQgPSBuZXcgRm9ybVZhbGlkYXRvcihhbGxDbGFzZXNDYXNlLmZvcm1TZWxlY3RvckNhcmRzLCBhbGxDbGFzZXNDYXNlKTtcbnZhbGlkYXRlQ2FyZC5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHZhbGlkYXRlQXZhdGFyID0gbmV3IEZvcm1WYWxpZGF0b3IoYWxsQ2xhc2VzQ2FzZS5mb3JtU2VsZWN0b3JBdmF0YXIsIGFsbENsYXNlc0Nhc2UpO1xudmFsaWRhdGVBdmF0YXIuZW5hYmxlVmFsaWRhdGlvbigpOyJdLCJzb3VyY2VSb290IjoiIn0=