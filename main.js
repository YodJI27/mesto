(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o){var i=e.item,a=e.handleCardClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=i.name,this._link=i.link,this._idUser=i.owner._id,this._idCards=i._id,this._likeCards=i.likes.length,this._likes=i.likes,this._template=n,this._handleCardClick=a,this._deleteCardsPopup=r,this._apiCards=o,this._editName=document.querySelector(".profile__author").textContent}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._template).content.querySelector(".cards__item").cloneNode(!0)}},{key:"checkForId",value:function(e){this._idUser!==e&&this._buttonDelete.classList.add("cards__delete_inactive")}},{key:"_likeCount",value:function(e){e.length?this._cardsLike.textContent=e.length:this._cardsLike.textContent=""}},{key:"myLikes",value:function(e){var t=this;this._likes.some((function(n){e===n._id&&t._likeButton.classList.add("cards__like_active")}))}},{key:"_clickLike",value:function(e){var t=this;e.target.classList.contains("cards__like_active")?this._apiCards.deleteLikes(this._idCards).then((function(n){e.target.classList.remove("cards__like_active"),t._likeCount(n.likes)})):this._apiCards.putLikes(this._idCards).then((function(n){e.target.classList.add("cards__like_active"),t._likeCount(n.likes)}))}},{key:"_deleteCards",value:function(){this._element.remove(),this._element=null}},{key:"_deleteCardsFunction",value:function(){var e=this;document.querySelector(".popup__delete_button").addEventListener("click",(function(){e._deleteCards(),e._apiCards.deleteCards(e._idCards),e._deleteCardsPopup.close()}))}},{key:"_setEventListener",value:function(){var e=this;this._element.querySelector(".cards__like").addEventListener("click",(function(t){e._clickLike(t)})),this._element.querySelector(".cards__delete").addEventListener("click",(function(){e._deleteCardsPopup.open(),e._deleteCardsFunction()})),this._cardValue.addEventListener("click",(function(){e._handleCardClick()}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardValue=this._element.querySelector(".cards__image"),this._buttonDelete=this._element.querySelector(".cards__delete"),this._cardsLike=this._element.querySelector(".cards__like_count"),this._likeButton=this._element.querySelector(".cards__like"),this._setEventListener(),this._element.querySelector(".cards__text").textContent=this._name,this._cardValue.src=this._link,this._cardValue.alt=this._name,this._cardsLike.textContent=this._likeCards,this._element}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=document.querySelector(t),this._inputList=Array.from(this._form.querySelectorAll(n.popupText)),this._popupButton=this._form.querySelector(n.popupButton),this._popupTextNameError=n.popupTextNameError,this._popupButonActive=n.popupButonActive}var t,r;return t=e,(r=[{key:"_showInputError",value:function(e,t){var n=this._form.querySelector("#".concat(e.id,"-error"));e.classList.add(this._popupTextNameError),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._popupTextNameError),t.textContent=""}},{key:"removeError",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasNotValidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(e){this._hasNotValidInput(e)?this.buttonActive():this.buttonFalse()}},{key:"buttonActive",value:function(){this._popupButton.classList.add(this._popupButonActive),this._popupButton.setAttribute("disabled",!0)}},{key:"buttonFalse",value:function(){this._popupButton.classList.remove(this._popupButonActive),this._popupButton.removeAttribute("disabled")}},{key:"_setEventListener",value:function(){var e=this,t=this._inputList;t.forEach((function(n){n.addEventListener("input",(function(){e._isValid(n),e._toggleButtonState(t)}))})),this._toggleButtonState(t)}},{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){e.preventDefault()})),this.buttonFalse(),this._setEventListener()}}])&&n(t.prototype,r),e}(),o={formSelector:".popup__container",formSelectorCards:".popup__container_cards_item",formSelectorAvatar:".popup__container_edit_avatar",popupText:".popup__text",popupButton:".popup__button",popupTextNameError:"popup__text_name_error",popupButonActive:"popup__button_active_not"},i=(document.querySelector(".popup"),document.querySelector(".delete__cards"),document.querySelector(".profile__edit_open_popup")),a=document.querySelector(".profile__add"),c=document.querySelector(".popup__text_name_input"),u=document.querySelector(".popup__text_job_input"),s=(document.querySelector(".profile__author"),document.querySelector(".profile__description"),document.querySelector(".popup__container"),document.querySelector(".photo"),document.querySelector(".photo__image")),l=document.querySelector(".photo__text"),p=(document.querySelector(".popup_cards"),document.querySelector(".popup__text_name_cards"),document.querySelector(".popup__text_job_cards"),document.querySelector(".popup__button_save_form")),f=document.querySelector(".popup__button_form_save"),_=(document.getElementById("name-input-error"),document.getElementById("job-input-error"),document.getElementById("input-name-error"),document.getElementById("url-input-error"),document.querySelector(".cards")),h=(document.querySelector(".cards__like_count"),document.querySelector(".popup__avatar"),document.querySelector(".profile__avatar")),d=document.querySelector(".popup__button_avatar_form"),y=document.querySelector(".profile__image");function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__close").addEventListener("click",(function(t){e.close()})),this._popup.addEventListener("click",(function(t){t.target.classList.contains("popup")&&e.close()}))}}])&&v(t.prototype,n),e}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleFormSubmit=t,n._form=n._popup.querySelector(".popup__container"),n._formInputs=n._popup.querySelectorAll(".popup__text"),n.setEventListeners(),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._case={},this._formInputs.forEach((function(t){e._case[t.name]=t.value})),this._case}},{key:"close",value:function(){S(C(a.prototype),"close",this).call(this),this._form.reset()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("submit",(function(){e._handleFormSubmit(e._getInputValues()),e.close()})),S(C(a.prototype),"setEventListeners",this).call(this)}}])&&k(t.prototype,n),a}(m);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function a(e,t){var n,r,o=t.textImage,c=t.photoImage;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e))._textImage=o,r._photoImage=c,x((n=O(r),T(a.prototype)),"setEventListeners",n).call(n),r}return t=a,(n=[{key:"open",value:function(e,t){this._photoImage.src=t,this._photoImage.alt=e,this._textImage.textContent=e,x(T(a.prototype),"open",this).call(this)}}])&&q(t.prototype,n),a}(m);function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderElements",value:function(){var e=this;this._items.reverse().forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&A(t.prototype,n),e}();function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameSelector=document.querySelector(n),this._jobSelector=document.querySelector(r),this._avatarSelector=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameSelector.textContent,job:this._jobSelector.textContent}}},{key:"setUserInfo",value:function(e,t){this._nameSelector.textContent=e,this._jobSelector.textContent=t,this._avatarSelector.alt=e}}])&&R(t.prototype,n),e}();function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"getInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._checkStatus)}},{key:"ReceiveCardsInServer",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(this._checkStatus)}},{key:"upCardsToTheServer",value:function(e,t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._checkStatus)}},{key:"editInfoUser",value:function(e,t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkStatus)}},{key:"deleteCards",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkStatus)}},{key:"editAvatar",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkStatus)}},{key:"putLikes",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._checkStatus)}},{key:"deleteLikes",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkStatus)}},{key:"_checkStatus",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}}])&&N(t.prototype,n),e}())({url:"https://mesto.nomoreparties.co/v1/cohort-17",headers:{Authorization:"ef54f240-380e-482d-82be-6a3e691e6be6","content-type":"application/json"}});Promise.all([D.ReceiveCardsInServer(),D.getInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];new B({items:o,renderer:function(e){M(e)}},".cards").renderElements(o),y.src=i.avatar,F.setUserInfo(i.name,i.about)})).catch((function(e){console.log(e)}));var F=new V({nameSelector:".profile__author",jobSelector:".profile__description",avatarSelector:".profile__image"}),J=new w(".popup",(function(){F.setUserInfo(c.value,u.value),G(!1,f,"Cохранение..."),D.editInfoUser(c.value,u.value).finally((function(e){return G(!1,f,"Сохранить")})),J.close()})),G=function(e,t,n){t.textContent=n},H=new w(".delete__cards",(function(){H.close()})),M=function(e){var n=new t({item:e,handleCardClick:function(){K.open(e.name,e.link)}},"#cards__template",H,D);D.getInfo().then((function(e){n.checkForId(e._id),n.myLikes(e._id)}));var r=n.generateCard();_.prepend(r)},z=new w(".popup__avatar",(function(e){G(!0,d,"Сохранение..."),D.editAvatar(e.link).then((function(e){y.src=e.avatar})).catch((function(e){console.log(e)})).finally((function(e){return G(!1,d,"Сохранить")}))})),$=new w("#cards__popup",(function(e){G(!0,p,"Создание..."),D.upCardsToTheServer(e.name,e.link).then((function(e){M(e)})).catch((function(e){console.log(e)})).finally((function(e){return G(!1,p,"Cоздать")}))})),K=new P(".photo",{textImage:l,photoImage:s});a.addEventListener("click",(function(){W.buttonActive(),$.open()})),i.addEventListener("click",(function(){c.value=F.getUserInfo().name,u.value=F.getUserInfo().job,J.open(),Q.buttonFalse()})),h.addEventListener("click",(function(){z.open()}));var Q=new r(o.formSelector,o);Q.enableValidation();var W=new r(o.formSelectorCards,o);W.enableValidation(),new r(o.formSelectorAvatar,o).enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiXSwibmFtZXMiOlsiQ2FyZCIsInRlbXBsYXRlIiwiZGVsZXRlQ2FyZHMiLCJhcGkiLCJpdGVtIiwiaGFuZGxlQ2FyZENsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9pZFVzZXIiLCJvd25lciIsIl9pZCIsIl9pZENhcmRzIiwiX2xpa2VDYXJkcyIsImxpa2VzIiwibGVuZ3RoIiwiX2xpa2VzIiwiX3RlbXBsYXRlIiwiX2hhbmRsZUNhcmRDbGljayIsIl9kZWxldGVDYXJkc1BvcHVwIiwiX2FwaUNhcmRzIiwiX2VkaXROYW1lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiaWQiLCJfYnV0dG9uRGVsZXRlIiwiY2xhc3NMaXN0IiwiYWRkIiwiX2NhcmRzTGlrZSIsInNvbWUiLCJfbGlrZUJ1dHRvbiIsImV2dCIsInRhcmdldCIsImNvbnRhaW5zIiwiZGVsZXRlTGlrZXMiLCJ0aGVuIiwicmVzIiwicmVtb3ZlIiwiX2xpa2VDb3VudCIsInB1dExpa2VzIiwiX2VsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2RlbGV0ZUNhcmRzIiwiY2xvc2UiLCJfY2xpY2tMaWtlIiwib3BlbiIsIl9kZWxldGVDYXJkc0Z1bmN0aW9uIiwiX2NhcmRWYWx1ZSIsIl9nZXRUZW1wbGF0ZSIsIl9zZXRFdmVudExpc3RlbmVyIiwic3JjIiwiYWx0IiwiRm9ybVZhbGlkYXRvciIsImZvcm1TZWxlY3RvciIsImFsbENsYXNzZXMiLCJfZm9ybSIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwicG9wdXBUZXh0IiwiX3BvcHVwQnV0dG9uIiwicG9wdXBCdXR0b24iLCJfcG9wdXBUZXh0TmFtZUVycm9yIiwicG9wdXBUZXh0TmFtZUVycm9yIiwiX3BvcHVwQnV0b25BY3RpdmUiLCJwb3B1cEJ1dG9uQWN0aXZlIiwiZWxlbWVudCIsIm1lc3NhZ2VFcnJvciIsImVycm9yRWxlbWVudCIsImlucHV0IiwiZm9yRWFjaCIsIl9oaWRlSW5wdXRFcnJvciIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsImlucHV0RWxlbWVudCIsIl9oYXNOb3RWYWxpZElucHV0IiwiYnV0dG9uQWN0aXZlIiwiYnV0dG9uRmFsc2UiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaXNWYWxpZCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsInByZXZlbnREZWZhdWx0IiwiYWxsQ2xhc2VzQ2FzZSIsImZvcm1TZWxlY3RvckNhcmRzIiwiZm9ybVNlbGVjdG9yQXZhdGFyIiwib3BlbkJ1dHRvblBvcHVwIiwib3BlbkJ1dHRvblBvcHVwQWRkIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJwaG90b0ltYWdlIiwidGV4dEltYWdlIiwicG9wdXBCdXR0b25TYXZlIiwicG9wdXBCdXR0b25TYXZlQnV0dG9uIiwiY2FyZHNUZW1wbGF0ZSIsImdldEVsZW1lbnRCeUlkIiwicHJvZmlsZUF2YXRhckJ1dHRvbiIsInBvcHVwRWRpdEF2YXRhckJ1dHRvbiIsInByb2ZpbGVJbWFnZSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwiXyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybUlucHV0cyIsInNldEV2ZW50TGlzdGVuZXJzIiwiX2Nhc2UiLCJ2YWx1ZSIsInJlc2V0IiwiX2dldElucHV0VmFsdWVzIiwiUG9wdXBXaXRoSW1hZ2UiLCJfdGV4dEltYWdlIiwiX3Bob3RvSW1hZ2UiLCJpbWFnZU5hbWUiLCJpbWFnZVNyYyIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmV2ZXJzZSIsInByZXBlbmQiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfbmFtZVNlbGVjdG9yIiwiX2pvYlNlbGVjdG9yIiwiX2F2YXRhclNlbGVjdG9yIiwiam9iIiwiZGF0YSIsIl91cmwiLCJ1cmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsIl9jaGVja1N0YXR1cyIsIm5hbWVzIiwibGlua3MiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwiYXZhdGFyIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImFsbCIsIlJlY2VpdmVDYXJkc0luU2VydmVyIiwiZ2V0SW5mbyIsImNhcmRzIiwidXNlciIsInJlbmRlcmVyQ2FyZHMiLCJyZW5kZXJFbGVtZW50cyIsImVkaXRJbmZvVXNlciIsInNldFVzZXJJbmZvIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImVkaXRQb3B1cENsYXNzIiwicmVuZGVyTG9hZGluZyIsImxvYWRpbmciLCJidXR0b24iLCJtZXNzYWdlIiwiY2xvc2VEZWxldGVDYXJkc1BvcHVwIiwiY2FyZCIsImNhcmRzSW1hZ2UiLCJjaGVja0ZvcklkIiwibXlMaWtlcyIsImNhcmRzRWxlbWVudCIsImdlbmVyYXRlQ2FyZCIsImVkaXRBdmF0YXIiLCJmb3JtUG9wdXAiLCJ1cENhcmRzVG9UaGVTZXJ2ZXIiLCJ2YWxpZGF0ZUNhcmQiLCJnZXRVc2VySW5mbyIsInZhbGlkYXRlRWRpdCIsImVuYWJsZVZhbGlkYXRpb24iXSwibWFwcGluZ3MiOiJ5TEFBTyxJQUFNQSxFQUFiLFdBQ0ksYUFBcUNDLEVBQVVDLEVBQWFDLEdBQUksSUFBbkRDLEVBQW1ELEVBQW5EQSxLQUFNQyxFQUE2QyxFQUE3Q0EsaUIsNEZBQTZDLFNBQzVEQyxLQUFLQyxNQUFRSCxFQUFLSSxLQUNsQkYsS0FBS0csTUFBUUwsRUFBS00sS0FDbEJKLEtBQUtLLFFBQVVQLEVBQUtRLE1BQU1DLElBQzFCUCxLQUFLUSxTQUFXVixFQUFLUyxJQUNyQlAsS0FBS1MsV0FBYVgsRUFBS1ksTUFBTUMsT0FDN0JYLEtBQUtZLE9BQVNkLEVBQUtZLE1BQ25CVixLQUFLYSxVQUFZbEIsRUFDakJLLEtBQUtjLGlCQUFtQmYsRUFDeEJDLEtBQUtlLGtCQUFvQm5CLEVBQ3pCSSxLQUFLZ0IsVUFBWW5CLEVBQ2pCRyxLQUFLaUIsVUFBWUMsU0FBU0MsY0FBYyxvQkFBb0JDLFksUUFacEUsTyxFQUFBLEcsRUFBQSxzQ0FvQlEsT0FKb0JGLFNBQVNDLGNBQWNuQixLQUFLYSxXQUMvQ1EsUUFDQUYsY0FBYyxnQkFDZEcsV0FBVSxLQW5CbkIsaUNBc0JlQyxHQUNKdkIsS0FBS0ssVUFBWWtCLEdBQ2hCdkIsS0FBS3dCLGNBQWNDLFVBQVVDLElBQUksNEJBeEI3QyxpQ0E0QmVoQixHQUNIQSxFQUFNQyxPQUdOWCxLQUFLMkIsV0FBV1AsWUFBY1Ys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RCxJQUM1Q2lDLEVBQWVqSSxPQUNma0osRUFBYTlHLGlCQThDakJtQixFQUFvQjNELGlCQUFpQixTQXZEVixXQUN2QmlKLEVBQVc3SSxVQXdEZixJQUFNa0osRUFBZSxJQUFJM0ksRUFBY21DLEVBQWNsQyxhQUFja0MsR0FDbkV3RyxFQUFhQyxtQkFFYixJQUFNSCxFQUFlLElBQUl6SSxFQUFjbUMsRUFBY0Msa0JBQW1CRCxHQUN4RXNHLEVBQWFHLG1CQUVVLElBQUk1SSxFQUFjbUMsRUFBY0UsbUJBQW9CRixHQUM1RHlHLG9CIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gICAgY29uc3RydWN0b3Ioe2l0ZW0sIGhhbmRsZUNhcmRDbGlja30sIHRlbXBsYXRlLCBkZWxldGVDYXJkcywgYXBpKXtcbiAgICAgICAgdGhpcy5fbmFtZSA9IGl0ZW0ubmFtZTtcbiAgICAgICAgdGhpcy5fbGluayA9IGl0ZW0ubGluaztcbiAgICAgICAgdGhpcy5faWRVc2VyID0gaXRlbS5vd25lci5faWQ7XG4gICAgICAgIHRoaXMuX2lkQ2FyZHMgPSBpdGVtLl9pZDtcbiAgICAgICAgdGhpcy5fbGlrZUNhcmRzID0gaXRlbS5saWtlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2xpa2VzID0gaXRlbS5saWtlcztcbiAgICAgICAgdGhpcy5fdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgICAgICB0aGlzLl9kZWxldGVDYXJkc1BvcHVwID0gZGVsZXRlQ2FyZHM7XG4gICAgICAgIHRoaXMuX2FwaUNhcmRzID0gYXBpO1xuICAgICAgICB0aGlzLl9lZGl0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdXRob3InKS50ZXh0Q29udGVudDtcbiAgICB9XG5cbiAgICBfZ2V0VGVtcGxhdGUoKXtcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlKVxuICAgICAgICAuY29udGVudFxuICAgICAgICAucXVlcnlTZWxlY3RvcignLmNhcmRzX19pdGVtJylcbiAgICAgICAgLmNsb25lTm9kZSh0cnVlKVxuICAgICAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gICAgfVxuICAgIGNoZWNrRm9ySWQoaWQpe1xuICAgICAgICBpZih0aGlzLl9pZFVzZXIgIT09IGlkKXtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkRlbGV0ZS5jbGFzc0xpc3QuYWRkKCdjYXJkc19fZGVsZXRlX2luYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8g0JjQt9C80LXQvdC10L3QuNC1INC30L3QsNGH0LXQvdC40Y8g0LvQsNC50LrQvtCyXG4gICAgX2xpa2VDb3VudChsaWtlcyl7XG4gICAgICAgIGlmKCFsaWtlcy5sZW5ndGgpe1xuICAgICAgICAgICAgdGhpcy5fY2FyZHNMaWtlLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NhcmRzTGlrZS50ZXh0Q29udGVudCA9IGxpa2VzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBteUxpa2VzKGlkKXtcbiAgICAgICAgdGhpcy5fbGlrZXMuc29tZShpdGVtID0+IHtcbiAgICAgICAgICAgIGlmKGlkID09PSBpdGVtLl9pZCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjYXJkc19fbGlrZV9hY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG4gICAgLy8g0JvQsNC50LpcbiAgICBfY2xpY2tMaWtlIChldnQpe1xuICAgICAgICBpZihldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2FyZHNfX2xpa2VfYWN0aXZlJykpe1xuICAgICAgICAgICAgdGhpcy5fYXBpQ2FyZHMuZGVsZXRlTGlrZXModGhpcy5faWRDYXJkcylcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2NhcmRzX19saWtlX2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpa2VDb3VudChyZXMubGlrZXMpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FwaUNhcmRzLnB1dExpa2VzKHRoaXMuX2lkQ2FyZHMpXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdjYXJkc19fbGlrZV9hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9saWtlQ291bnQocmVzLmxpa2VzKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9ICAgXG4gICAgLy8g0KPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XG4gICAgX2RlbGV0ZUNhcmRzKCl7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgICBfZGVsZXRlQ2FyZHNGdW5jdGlvbigpe1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2RlbGV0ZV9idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2RlbGV0ZUNhcmRzKCk7XG4gICAgICAgICAgICB0aGlzLl9hcGlDYXJkcy5kZWxldGVDYXJkcyh0aGlzLl9pZENhcmRzKTtcbiAgICAgICAgICAgIHRoaXMuX2RlbGV0ZUNhcmRzUG9wdXAuY2xvc2UoKTtcbiAgICAgICAgfSlcbiAgICB9XG4gICAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0LLRgdC10YUg0L7QsdGA0LDQsdC+0YLRh9C40LrQvtCyINC60LDRgNGC0L7Rh9C60LhcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcigpe1xuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fbGlrZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT57XG4gICAgICAgICAgICB0aGlzLl9jbGlja0xpa2UoZXZ0KTtcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2RlbGV0ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT57XG4gICAgICAgICAgICB0aGlzLl9kZWxldGVDYXJkc1BvcHVwLm9wZW4oKTtcbiAgICAgICAgICAgIHRoaXMuX2RlbGV0ZUNhcmRzRnVuY3Rpb24oKTtcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5fY2FyZFZhbHVlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT57XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKTtcbiAgICAgICAgfSlcbiAgICB9XG4gICAgICAgIC8vIEPQvtC30LTQsNC90LjQtSDQuCDQt9Cw0L/QvtC70L3QtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XG4gICAgICAgIGdlbmVyYXRlQ2FyZCgpe1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9jYXJkVmFsdWUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19faW1hZ2UnKTtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkRlbGV0ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19kZWxldGUnKTtcbiAgICAgICAgICAgIHRoaXMuX2NhcmRzTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19saWtlX2NvdW50Jyk7XG4gICAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2xpa2UnKTtcbiAgICAgICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXIoKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX190ZXh0JykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgICAgICAgICAgdGhpcy5fY2FyZFZhbHVlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgICAgICAgICB0aGlzLl9jYXJkVmFsdWUuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICAgICAgICAgIHRoaXMuX2NhcmRzTGlrZS50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VDYXJkcztcbiAgICBcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgICAgICB9XG59XG4iLCJcbmV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgICBjb25zdHJ1Y3Rvcihmb3JtU2VsZWN0b3IsIGFsbENsYXNzZXMpe1xuICAgICAgICB0aGlzLl9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihmb3JtU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChhbGxDbGFzc2VzLnBvcHVwVGV4dCkpO1xuICAgICAgICB0aGlzLl9wb3B1cEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihhbGxDbGFzc2VzLnBvcHVwQnV0dG9uKTtcbiAgICAgICAgdGhpcy5fcG9wdXBUZXh0TmFtZUVycm9yID0gYWxsQ2xhc3Nlcy5wb3B1cFRleHROYW1lRXJyb3I7XG4gICAgICAgIHRoaXMuX3BvcHVwQnV0b25BY3RpdmUgPSBhbGxDbGFzc2VzLnBvcHVwQnV0b25BY3RpdmU7XG4gICAgfVxuICAgIC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INGN0LvQtdC80LXQvdGC0LAg0L7RiNC40LHQutC4XG4gICAgX3Nob3dJbnB1dEVycm9yKGVsZW1lbnQsIG1lc3NhZ2VFcnJvcil7XG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7ZWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3BvcHVwVGV4dE5hbWVFcnJvcik7XG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2VFcnJvcjtcbiAgICB9XG5cbiAgICAvLyDQodC60YDRi9GC0LjQtSDRjdC70LXQvNC10L3RgtCwINC+0YjQuNCx0LrQuFxuICAgIF9oaWRlSW5wdXRFcnJvcihpbnB1dCl7XG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fcG9wdXBUZXh0TmFtZUVycm9yKTtcbiAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICB9XG4gICAgLy8g0KPQtNCw0LvQtdC90LjQtSDRgtC10LrRgdGC0LAg0L7RiNC40LHQutC4INC/0YDQuCDQt9Cw0LrRgNGL0YLQuNC4INC/0L7Qv9Cw0L/QvtCyXG4gICAgLy8gcmVtb3ZlRXJyb3IoZWxlbWVudCwgdGV4dCl7XG4gICAgLy8gICAgIHRleHQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIC8vICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fcG9wdXBUZXh0TmFtZUVycm9yKTtcbiAgICAvLyB9XG4gICAgcmVtb3ZlRXJyb3IoKXtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpdGVtKTtcbiAgICAgICAgfSlcbiAgICB9XG4gICAgLy8g0J/RgNC+0LLQtdGA0LrQsCDQstCw0LvQuNC00L3QvtGB0YLQuCDQv9C+0LvRjyBcbiAgICBfaXNWYWxpZChlbGVtZW50KXtcbiAgICAgICAgaWYoIWVsZW1lbnQudmFsaWRpdHkudmFsaWQpe1xuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoZWxlbWVudCwgZWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyDQn9GA0L7QstC10YDQutCwINCy0LDQu9C40LTQvdC+0YHRgtC4XG4gICAgX2hhc05vdFZhbGlkSW5wdXQoaW5wdXRMaXN0KXtcbiAgICAgICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xuICAgIH1cblxuICAgIC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INC60LvQsNGB0YHQsCDQutC90L7Qv9C60LggKCDQsNC60YLQuNCy0L3QsNGPIC8g0L3QtSDQsNC60YLQuNCy0L3QsNGPKVxuICAgIF90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3Qpe1xuICAgICAgICBpZih0aGlzLl9oYXNOb3RWYWxpZElucHV0KGlucHV0TGlzdCkpe1xuICAgICAgICAgICAgdGhpcy5idXR0b25BY3RpdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uRmFsc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJ1dHRvbkFjdGl2ZSgpe1xuICAgICAgICB0aGlzLl9wb3B1cEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX3BvcHVwQnV0b25BY3RpdmUpO1xuICAgICAgICB0aGlzLl9wb3B1cEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgYnV0dG9uRmFsc2UoKXtcbiAgICAgICAgdGhpcy5fcG9wdXBCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9wb3B1cEJ1dG9uQWN0aXZlKTtcbiAgICAgICAgdGhpcy5fcG9wdXBCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cblxuICAgIC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INC+0LHRgNCw0LHQvtGC0YfQuNC60LAg0LLRgdC10Lwg0L/QvtC70Y/QvCDRhNC+0YDQvNGLXG4gICAgX3NldEV2ZW50TGlzdGVuZXIoKXtcbiAgICAgICAgY29uc3QgaW5wdXRMaXN0ID0gdGhpcy5faW5wdXRMaXN0O1xuICAgICAgICBpbnB1dExpc3QuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+e1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzVmFsaWQoaXRlbSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0KTtcbiAgICB9XG5cbiAgICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutCwINGE0L7RgNC80LDQvFxuICAgIGVuYWJsZVZhbGlkYXRpb24oKXtcbiAgICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB0aGlzLmJ1dHRvbkZhbHNlKCk7XG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXIoKTtcbiAgICB9XG59IiwiY29uc3QgYWxsQ2xhc2VzQ2FzZSA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fY29udGFpbmVyJyxcclxuICAgIGZvcm1TZWxlY3RvckNhcmRzOiAnLnBvcHVwX19jb250YWluZXJfY2FyZHNfaXRlbScsXHJcbiAgICBmb3JtU2VsZWN0b3JBdmF0YXI6ICcucG9wdXBfX2NvbnRhaW5lcl9lZGl0X2F2YXRhcicsXHJcbiAgICBwb3B1cFRleHQ6ICcucG9wdXBfX3RleHQnLFxyXG4gICAgcG9wdXBCdXR0b246ICcucG9wdXBfX2J1dHRvbicsXHJcbiAgICBwb3B1cFRleHROYW1lRXJyb3I6ICdwb3B1cF9fdGV4dF9uYW1lX2Vycm9yJyxcclxuICAgIHBvcHVwQnV0b25BY3RpdmU6ICdwb3B1cF9fYnV0dG9uX2FjdGl2ZV9ub3QnXHJcbn07XHJcblxyXG5jb25zdCBwb3B1cEVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKTtcclxuY29uc3QgZGVsZXRlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGVsZXRlX19jYXJkcycpO1xyXG5jb25zdCBvcGVuQnV0dG9uUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdF9vcGVuX3BvcHVwJyk7XHJcbmNvbnN0IG9wZW5CdXR0b25Qb3B1cEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQnKTtcclxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX190ZXh0X25hbWVfaW5wdXQnKTtcclxuY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3RleHRfam9iX2lucHV0Jyk7XHJcbmNvbnN0IG5hbWVBdXRob3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXV0aG9yJyk7XHJcbmNvbnN0IGpvYkF1dGhvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19kZXNjcmlwdGlvbicpO1xyXG5jb25zdCBmb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyJyk7XHJcbmNvbnN0IHBob3RvQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8nKTtcclxuY29uc3QgcGhvdG9JbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90b19faW1hZ2UnKTtcclxuY29uc3QgdGV4dEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBob3RvX190ZXh0Jyk7XHJcbmNvbnN0IHBvcHVwQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfY2FyZHMnKTtcclxuY29uc3QgcG9wdXBOYW1lQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3RleHRfbmFtZV9jYXJkcycpO1xyXG5jb25zdCBwb3B1cEpvYkNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX190ZXh0X2pvYl9jYXJkcycpXHJcbmNvbnN0IHBvcHVwQnV0dG9uU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uX3NhdmVfZm9ybScpO1xyXG5jb25zdCBwb3B1cEJ1dHRvblNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbl9mb3JtX3NhdmUnKTtcclxuY29uc3QgaW5wdXRFcnJvck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbmFtZS1pbnB1dC1lcnJvcmApO1xyXG5jb25zdCBpbnB1dEVycm9yRGF0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBqb2ItaW5wdXQtZXJyb3JgKTtcclxuY29uc3QgaW5wdXROYW1lRXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQtbmFtZS1lcnJvcicpO1xyXG5jb25zdCBpbnB1dEVycm9yVXJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VybC1pbnB1dC1lcnJvcicpO1xyXG5jb25zdCBjYXJkc1RlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzJyk7XHJcbmNvbnN0IGNhcmRzTGlrZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fbGlrZV9jb3VudCcpO1xyXG5jb25zdCBlZGl0QXZhdGFyU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2F2YXRhcicpO1xyXG5jb25zdCBwcm9maWxlQXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xyXG5jb25zdCBwb3B1cEVkaXRBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbl9hdmF0YXJfZm9ybScpO1xyXG5jb25zdCBwcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UnKTtcclxuY29uc3QgYnV0dG9uRXNjYXBlID0gJ0VzY2FwZSc7XHJcblxyXG5leHBvcnR7cGhvdG9DYXJkcywgcGhvdG9JbWFnZSwgdGV4dEltYWdlLCBuYW1lQXV0aG9yLCBqb2JBdXRob3IsIGlucHV0RXJyb3JVcmwsIGlucHV0TmFtZUVycm9yLFxyXG4gICAgaW5wdXRFcnJvckRhdGEsIGlucHV0RXJyb3JOYW1lLCBwb3B1cEJ1dHRvblNhdmVCdXR0b24sIHBvcHVwQnV0dG9uU2F2ZSwgcG9wdXBKb2JDYXJkcywgcG9wdXBOYW1lQ2FyZHMsIFxyXG4gICAgcG9wdXBDYXJkcywgZm9ybUVsZW1lbnQsIGpvYklucHV0LCBuYW1lSW5wdXQsICBvcGVuQnV0dG9uUG9wdXBBZGQsIG9wZW5CdXR0b25Qb3B1cCwgcG9wdXBFZGl0LCBhbGxDbGFzZXNDYXNlLCBcclxuICAgIGNhcmRzVGVtcGxhdGUsY2FyZHNMaWtlLGRlbGV0ZVBvcHVwLCBwcm9maWxlQXZhdGFyQnV0dG9uLCBlZGl0QXZhdGFyU2VsZWN0b3IsIFxyXG4gICAgcG9wdXBFZGl0QXZhdGFyQnV0dG9uLCBwcm9maWxlSW1hZ2UsIGJ1dHRvbkVzY2FwZX07XHJcbiIsImltcG9ydCB7YnV0dG9uRXNjYXBlfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbnN0YW50cy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcil7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCl7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuXHJcbiAgICB9XHJcbiAgICBjbG9zZSgpe1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlKGV2dCl7XHJcbiAgICAgICAgaWYoZXZ0LmtleSA9PT0gYnV0dG9uRXNjYXBlKXtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgXyA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwJykpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1BvcHVwfSBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCl7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyJyk7XHJcbiAgICAgICAgdGhpcy5fZm9ybUlucHV0cyA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fdGV4dCcpO1xyXG4gICAgICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpe1xyXG5cclxuICAgICAgICB0aGlzLl9jYXNlID0ge307XHJcblxyXG4gICAgICAgIHRoaXMuX2Zvcm1JbnB1dHMuZm9yRWFjaChpdGVtID0+e1xyXG4gICAgICAgICAgICB0aGlzLl9jYXNlW2l0ZW0ubmFtZV0gPSBpdGVtLnZhbHVlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nhc2U7XHJcbiAgICB9XHJcbiAgICBjbG9zZSgpe1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7UG9wdXB9IGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IoZm9ybVNlbGVjdG9yLCB7dGV4dEltYWdlLCBwaG90b0ltYWdlfSl7XHJcbiAgICAgICAgc3VwZXIoZm9ybVNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl90ZXh0SW1hZ2UgPSB0ZXh0SW1hZ2U7XHJcbiAgICAgICAgdGhpcy5fcGhvdG9JbWFnZSA9IHBob3RvSW1hZ2U7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKGltYWdlTmFtZSwgaW1hZ2VTcmMpe1xyXG4gICAgICAgIHRoaXMuX3Bob3RvSW1hZ2Uuc3JjID0gaW1hZ2VTcmM7XHJcbiAgICAgICAgdGhpcy5fcGhvdG9JbWFnZS5hbHQgPSBpbWFnZU5hbWU7XHJcbiAgICAgICAgdGhpcy5fdGV4dEltYWdlLnRleHRDb250ZW50ID0gaW1hZ2VOYW1lO1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxufSAiLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7aXRlbXMsIHJlbmRlcmVyfSwgY29udGFpbmVyU2VsZWN0b3Ipe1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH1cclxuICAgIC8vINC+0YLQstC10YfQsNC10YIg0LfQsCDQvtGC0YDQuNGB0L7QstC60YMg0LLRgdC10YUg0Y3Qu9C10LzQtdC90YLQvtCyIFxyXG4gICAgcmVuZGVyRWxlbWVudHMoKXtcclxuICAgICAgICB0aGlzLl9pdGVtcy5yZXZlcnNlKCkuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0L/RgNC40L3QuNC80LDQtdGCIERPTS3RjdC70LXQvNC10L3RgiDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LXQs9C+INCyINC60L7QvdGC0LXQudC90LXRgFxyXG4gICAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICB9XHJcbn0iLCJcclxuZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHtuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcn0pe1xyXG4gICAgICAgIHRoaXMuX25hbWVTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9qb2JTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2F2YXRhclNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XHJcbiAgICB9XHJcbiAgICBnZXRVc2VySW5mbygpe1xyXG4gICAgICAgIHJldHVybiB7IG5hbWU6IHRoaXMuX25hbWVTZWxlY3Rvci50ZXh0Q29udGVudCwgam9iOiB0aGlzLl9qb2JTZWxlY3Rvci50ZXh0Q29udGVudH07XHJcbiAgICB9XHJcbiAgICBzZXRVc2VySW5mbyhuYW1lLCBsaW5rKXtcclxuICAgICAgICB0aGlzLl9uYW1lU2VsZWN0b3IudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX2pvYlNlbGVjdG9yLnRleHRDb250ZW50ID0gbGluaztcclxuICAgICAgICB0aGlzLl9hdmF0YXJTZWxlY3Rvci5hbHQgPSBuYW1lO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0ICcuLi9wYWdlcy9pbmRleC5jc3MnO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCB7IEFwaSB9IGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcbmltcG9ydCB7XG4gICAgICAgIGpvYklucHV0LCBuYW1lSW5wdXQsXG4gICAgICAgIG9wZW5CdXR0b25Qb3B1cEFkZCwgb3BlbkJ1dHRvblBvcHVwLCBcbiAgICAgICAgYWxsQ2xhc2VzQ2FzZSwgdGV4dEltYWdlLCBwaG90b0ltYWdlLCBjYXJkc1RlbXBsYXRlLCBcbiAgICAgICAgcG9wdXBCdXR0b25TYXZlLCBwcm9maWxlQXZhdGFyQnV0dG9uLFxuICAgICAgICBwb3B1cEVkaXRBdmF0YXJCdXR0b24sIHByb2ZpbGVJbWFnZSwgcG9wdXBCdXR0b25TYXZlQnV0dG9uXG4gICAgICAgfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXAnO1xuXG4vLyDQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtVxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gICAgdXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0xNycsIFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IFwiZWY1NGYyNDAtMzgwZS00ODJkLTgyYmUtNmEzZTY5MWU2YmU2XCIsXG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgfSAgICBcbn0pO1xuXG4vLyDQntGC0YDQuNGB0L7QstC60LAg0LLRgdC10YUg0LrQsNGA0YLQvtGH0LXQulxuUHJvbWlzZS5hbGwoW1xuICAgIGFwaS5SZWNlaXZlQ2FyZHNJblNlcnZlcigpLFxuICAgIGFwaS5nZXRJbmZvKClcbl0pXG4udGhlbigoW2NhcmRzLCB1c2VyXSkgPT4ge1xuICAgIGNvbnN0IGNhcmRzU2VjdGlvbiA9IG5ldyBTZWN0aW9uKHtpdGVtczogY2FyZHMsIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgICByZW5kZXJlckNhcmRzKGl0ZW0pO1xuICAgIH1cbiAgICAgfSwgJy5jYXJkcycpO1xuICAgIGNhcmRzU2VjdGlvbi5yZW5kZXJFbGVtZW50cyhjYXJkcyk7XG4gICAgcHJvZmlsZUltYWdlLnNyYyA9IHVzZXIuYXZhdGFyO1xuICAgIGVkaXRJbmZvVXNlci5zZXRVc2VySW5mbyh1c2VyLm5hbWUsIHVzZXIuYWJvdXQpO1xufSlcbi5jYXRjaCgoZXJyKSA9PiB7Y29uc29sZS5sb2coZXJyKX0pO1xuXG5cbi8vINCh0L7Qt9C00LDQvdC40LUg0LrQu9Cw0YHRgdCwINC00LvRjyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdCBlZGl0SW5mb1VzZXIgPSBuZXcgVXNlckluZm8oe25hbWVTZWxlY3RvcjogJy5wcm9maWxlX19hdXRob3InLCBqb2JTZWxlY3RvcjogJy5wcm9maWxlX19kZXNjcmlwdGlvbicsIGF2YXRhclNlbGVjdG9yOiAnLnByb2ZpbGVfX2ltYWdlJ30pO1xuLy8g0KTQvtGA0LzQsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdCBlZGl0UG9wdXBDbGFzcyA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXAnLCAoKSA9PiB7XG4gICAgZWRpdEluZm9Vc2VyLnNldFVzZXJJbmZvKG5hbWVJbnB1dC52YWx1ZSwgam9iSW5wdXQudmFsdWUpO1xuICAgIHJlbmRlckxvYWRpbmcoZmFsc2UsIHBvcHVwQnV0dG9uU2F2ZUJ1dHRvbiwgXCJD0L7RhdGA0LDQvdC10L3QuNC1Li4uXCIpXG4gICAgYXBpXG4gICAgLmVkaXRJbmZvVXNlcihuYW1lSW5wdXQudmFsdWUsIGpvYklucHV0LnZhbHVlKVxuICAgIC5maW5hbGx5KF8gPT4gcmVuZGVyTG9hZGluZyhmYWxzZSwgcG9wdXBCdXR0b25TYXZlQnV0dG9uLCBcItCh0L7RhdGA0LDQvdC40YLRjFwiKSk7XG4gICAgZWRpdFBvcHVwQ2xhc3MuY2xvc2UoKTtcbn0pO1xuXG4vLyDQotC10LrRgdGCINC00LvRjyDQutC90L7Qv9C+0LpcbmNvbnN0IHJlbmRlckxvYWRpbmcgPSAobG9hZGluZywgYnV0dG9uLCBtZXNzYWdlKSA9PiB7XG4gICAgaWYobG9hZGluZykge1xuICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgfVxufVxuXG4vLyDQmtC70LDRgdGBINC00LvRjyDQv9C+0L/QsNC/INGD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxuY29uc3QgY2xvc2VEZWxldGVDYXJkc1BvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5kZWxldGVfX2NhcmRzJywgKCkgPT4ge2Nsb3NlRGVsZXRlQ2FyZHNQb3B1cC5jbG9zZSgpfSk7XG5cbi8vINCe0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQvyDQtNC70Y8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LXQulxuY29uc3QgYWRkUG9wdXBDYXJkcyA9ICgpID0+IHtcbiAgICB2YWxpZGF0ZUNhcmQuYnV0dG9uQWN0aXZlKCk7XG4gICAgZm9ybVBvcHVwLm9wZW4oKTtcbn1cbi8vINCe0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQvyDQtNC70Y8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsCBcbmNvbnN0IGVkaXRBdmF0YXJGdW5jdGlvbiA9ICgpID0+IHtcbiAgICBlZGl0QXZhdGFyLm9wZW4oKTtcbn1cblxuLy8g0J7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC9INC00LvRjyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdCBhZGRQb3B1cCA9ICgpID0+IHtcbiAgICBuYW1lSW5wdXQudmFsdWUgPSBlZGl0SW5mb1VzZXIuZ2V0VXNlckluZm8oKS5uYW1lO1xuICAgIGpvYklucHV0LnZhbHVlID0gZWRpdEluZm9Vc2VyLmdldFVzZXJJbmZvKCkuam9iO1xuICAgIGVkaXRQb3B1cENsYXNzLm9wZW4oKTtcbiAgICB2YWxpZGF0ZUVkaXQuYnV0dG9uRmFsc2UoKTtcbn1cblxuLy8g0YDQtdC90LTQtdGAINC+0LTQvdC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxuY29uc3QgcmVuZGVyZXJDYXJkcyA9IChpdGVtKSA9PiB7XG4gICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKHtpdGVtLCBcbiAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FyZHNJbWFnZS5vcGVuKGl0ZW0ubmFtZSwgaXRlbS5saW5rKTtcbiAgICAgICAgfSAgIFxuICAgIH0sICcjY2FyZHNfX3RlbXBsYXRlJywgY2xvc2VEZWxldGVDYXJkc1BvcHVwLCBhcGkpO1xuICAgIGFwaS5nZXRJbmZvKCkudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGNhcmQuY2hlY2tGb3JJZChyZXMuX2lkKTtcbiAgICAgICAgY2FyZC5teUxpa2VzKHJlcy5faWQpO1xuICAgIH0pXG4gICAgY29uc3QgY2FyZHNFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgICBjYXJkc1RlbXBsYXRlLnByZXBlbmQoY2FyZHNFbGVtZW50KTtcbn1cblxuLy8g0KHQvNC10L3QsCDQsNCy0LDRgtCw0YDQsFxuY29uc3QgZWRpdEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfX2F2YXRhcicsIChpdGVtKSA9PiB7XG4gICAgcmVuZGVyTG9hZGluZyh0cnVlLCBwb3B1cEVkaXRBdmF0YXJCdXR0b24sICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpXG4gICAgYXBpXG4gICAgLmVkaXRBdmF0YXIoaXRlbS5saW5rKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHByb2ZpbGVJbWFnZS5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7Y29uc29sZS5sb2coZXJyKX0pXG4gICAgLmZpbmFsbHkoXyA9PiByZW5kZXJMb2FkaW5nKGZhbHNlLCBwb3B1cEVkaXRBdmF0YXJCdXR0b24sIFwi0KHQvtGF0YDQsNC90LjRgtGMXCIpKTtcbn0pO1xuXG4vLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQtdC6INC40Lcg0L/QvtC/0LDQv1xuY29uc3QgZm9ybVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNjYXJkc19fcG9wdXAnLCAoaXRlbSkgPT4ge1xuICAgIHJlbmRlckxvYWRpbmcodHJ1ZSwgcG9wdXBCdXR0b25TYXZlLCAn0KHQvtC30LTQsNC90LjQtS4uLicpO1xuICAgIGFwaVxuICAgIC51cENhcmRzVG9UaGVTZXJ2ZXIoaXRlbS5uYW1lLCBpdGVtLmxpbmspXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZW5kZXJlckNhcmRzKHJlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge2NvbnNvbGUubG9nKGVycil9KVxuICAgIC5maW5hbGx5KF8gPT4gcmVuZGVyTG9hZGluZyhmYWxzZSwgcG9wdXBCdXR0b25TYXZlLCAnQ9C+0LfQtNCw0YLRjCcpKTtcbn0pO1xuLy8g0J/RgNC40LHQu9C40LbQtdC90LjQtSDQutCw0YDRgtC40L3QutC4XG5jb25zdCBjYXJkc0ltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucGhvdG8nLCB7dGV4dEltYWdlLCBwaG90b0ltYWdlfSk7XG5cbm9wZW5CdXR0b25Qb3B1cEFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZFBvcHVwQ2FyZHMpO1xub3BlbkJ1dHRvblBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkUG9wdXApO1xucHJvZmlsZUF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGVkaXRBdmF0YXJGdW5jdGlvbik7XG5cbmNvbnN0IHZhbGlkYXRlRWRpdCA9IG5ldyBGb3JtVmFsaWRhdG9yKGFsbENsYXNlc0Nhc2UuZm9ybVNlbGVjdG9yLCBhbGxDbGFzZXNDYXNlKTtcbnZhbGlkYXRlRWRpdC5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHZhbGlkYXRlQ2FyZCA9IG5ldyBGb3JtVmFsaWRhdG9yKGFsbENsYXNlc0Nhc2UuZm9ybVNlbGVjdG9yQ2FyZHMsIGFsbENsYXNlc0Nhc2UpO1xudmFsaWRhdGVDYXJkLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgdmFsaWRhdGVBdmF0YXIgPSBuZXcgRm9ybVZhbGlkYXRvcihhbGxDbGFzZXNDYXNlLmZvcm1TZWxlY3RvckF2YXRhciwgYWxsQ2xhc2VzQ2FzZSk7XG52YWxpZGF0ZUF2YXRhci5lbmFibGVWYWxpZGF0aW9uKCk7IiwiZXhwb3J0IGNsYXNzIEFwaXtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGEpe1xyXG4gICAgICAgIHRoaXMuX3VybCA9IGRhdGEudXJsO1xyXG4gICAgICAgIHRoaXMuX2hlYWRlcnMgPSBkYXRhLmhlYWRlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JjQvdGE0L7RgNC80LDRhtC40Y8g0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XHJcbiAgICBnZXRJbmZvKCl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpO1xyXG4gICAgfVxyXG4gICAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LXQuiDRgSDRgdC10YDQstC10YDQsFxyXG4gICAgUmVjZWl2ZUNhcmRzSW5TZXJ2ZXIoKXtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgfSkudGhlbih0aGlzLl9jaGVja1N0YXR1cyk7XHJcbiAgICB9XHJcbiAgICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQtdC6INC40Lcg0L/QvtC/0LDQv1xyXG4gICAgdXBDYXJkc1RvVGhlU2VydmVyKG5hbWVzLCBsaW5rcyl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVzLFxyXG4gICAgICAgICAgICAgICAgbGluazogbGlua3NcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrU3RhdHVzKTtcclxuICAgIH1cclxuICAgIC8vINCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XHJcbiAgICBlZGl0SW5mb1VzZXIobmFtZXMsIGxpbmtzKXtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsIFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lcyxcclxuICAgICAgICAgICAgICAgIGFib3V0OiBsaW5rc1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpO1xyXG4gICAgfVxyXG4gICAgLy8g0KPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4IFxyXG4gICAgZGVsZXRlQ2FyZHMoaWQpe1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7aWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrU3RhdHVzKTtcclxuICAgIH1cclxuICAgIC8vINCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0LDQstCw0YLQsNGA0LBcclxuICAgIGVkaXRBdmF0YXIoZGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGF2YXRhcjogZGF0YVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpO1xyXG4gICAgfVxyXG4gICAgLy8g0J/QvtGB0YLQsNC90L7QstC60LAg0LvQsNC50LrQsFxyXG4gICAgcHV0TGlrZXMoaWQpe1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzL2xpa2VzLyR7aWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrU3RhdHVzKTtcclxuICAgIH1cclxuICAgIC8vINCj0LTQsNC70LXQvdC40LUg0LvQsNC50LrQsFxyXG4gICAgZGVsZXRlTGlrZXMoaWQpe1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzL2xpa2VzLyR7aWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrU3RhdHVzKTtcclxuICAgIH1cclxuICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0L3QsCDQvtGI0LjQsdC60LhcclxuICAgIF9jaGVja1N0YXR1cyhyZXMpe1xyXG4gICAgICAgIGlmKHJlcy5vayl7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==